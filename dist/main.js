!function(t,e){for(var r in e)t[r]=e[r]}(window,function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=74)}([function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e,r){var n=r(36)("wks"),o=r(22),i=r(0).Symbol,s="function"==typeof i;(t.exports=function(t){return n[t]||(n[t]=s&&i[t]||(s?i:o)("Symbol."+t))}).store=n},function(t,e,r){var n=function(){var t=function(){try{var t={};return Object.defineProperty(t,"x",{get:function(){return 0}}),0===t.x}catch(t){return!1}}();var e=Function.prototype.call,r=Function.prototype.bind?function(t,e){return Function.prototype.bind.call(t,e)}:function(t,e){return function(r){return t.apply(e,arguments)}},n=r(e,Object.prototype.hasOwnProperty),o=r(e,Array.prototype.slice),i=Array.prototype.forEach?r(e,Array.prototype.forEach):function(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r])},s=Object.freeze||function(t){return t},a=(Object.getPrototypeOf,Object.getOwnPropertyNames||function(t){var e=[];for(var r in t)n(t,r)&&e.push(r);return e}),u=function(){try{if(Object.getOwnPropertyDescriptor)return!!Object.getOwnPropertyDescriptor({x:0},"x")}catch(t){}return!1}()?Object.getOwnPropertyDescriptor:function(t,e){return{value:t[e],enumerable:!0,writable:!0,configurable:!0}},c=function(){try{if(Object.defineProperty){var t={};return Object.defineProperty(t,"x",{value:0}),0===t.x}}catch(t){}return!1}()?Object.defineProperty:function(t,e,r){t[e]=r.value},p=Object.defineProperties||function(t,e){for(var r in e)n(e,r)&&c(t,r,e[r])},l=Object.create||function(t,e){var r;function n(){}return n.prototype=t||Object.prototype,r=new n,e&&p(r,e),r},f=Object.getOwnProperties||function(t){var e={};return i(a(t),function(r){e[r]=u(t,r)}),e};function h(t){return s({value:void 0,enumerable:!1,required:!0})}function d(e){var r=function(t){var e=function(e){throw new Error("Conflicting property: "+t)};return s(e.prototype),s(e)}(e);return s(t?{get:r,set:r,enumerable:!1,conflict:!0}:{value:r,enumerable:!1,conflict:!0})}function y(t,e){return!(!t.conflict||!e.conflict)||t.get===e.get&&t.set===e.set&&(r=t.value,n=e.value,r===n?0!==r||1/r==1/n:r!=r&&n!=n)&&t.enumerable===e.enumerable&&t.required===e.required&&t.conflict===e.conflict;var r,n}function m(t,e){return s(r(t,e))}var v=s({toString:function(){return"<Trait.required>"}});function g(t){var e={};return i(a(t),function(r){var n=u(t,r);n.value===v?n=h():"function"==typeof n.value?(n.method=!0,"prototype"in n.value&&s(n.value.prototype)):(n.get&&n.get.prototype&&s(n.get.prototype),n.set&&n.set.prototype&&s(n.set.prototype)),e[r]=n}),e}function b(t,e){var r=function(t){var e={};return i(t,function(t){e[t]=!0}),s(e)}(t),o={};return i(a(e),function(t){!n(r,t)||e[t].required?o[t]=e[t]:o[t]=h()}),s(o)}function w(t,e){var r=l(t),n={};return i(a(e),function(o){var i=e[o];if(i.required){if(!(o in t))throw new Error("Missing required property: "+o)}else{if(i.conflict)throw new Error("Remaining conflicting property: "+o);"value"in i?i.method?n[o]={value:m(i.value,r),enumerable:i.enumerable,configurable:i.configurable,writable:i.writable}:n[o]=i:n[o]={get:i.get?m(i.get,r):void 0,set:i.set?m(i.set,r):void 0,enumerable:i.enumerable,configurable:i.configurable}}}),p(r,n),s(r)}function x(t){return g(t)}return Object.create||(Object.create=l),Object.getOwnProperties||(Object.getOwnProperties=f),x.required=s(v),x.compose=s(function(t){var e=o(arguments,0),r={};return i(e,function(t){i(a(t),function(e){var o=t[e];if(n(r,e)&&!r[e].required){if(o.required)return;y(r[e],o)||(r[e]=d(e))}else r[e]=o})}),s(r)}),x.resolve=s(function(t,e){var r={},o=[];for(var u in t)n(t,u)&&(t[u]?r[u]=t[u]:o.push(u));return function(t,e){var r={};return i(a(e),function(o){if(n(t,o)&&!e[o].required){var i=t[o];n(r,i)&&!r[i].required?r[i]=d(i):r[i]=e[o],n(r,o)||(r[o]=h())}else n(r,o)?e[o].required||(r[o]=d(o)):r[o]=e[o]}),s(r)}(r,b(o,e))}),x.override=s(function(t){var e=o(arguments,0),r={};return i(e,function(t){i(a(t),function(e){var o=t[e];n(r,e)&&!r[e].required||(r[e]=o)})}),s(r)}),x.create=s(w),x.eqv=s(function(t,e){var r,n=a(t),o=a(e);if(n.length!==o.length)return!1;for(var i=0;i<n.length;i++)if(!e[r=n[i]]||!y(t[r],e[r]))return!1;return!0}),x.object=s(function(t,e){return w(Object.prototype,g(t))}),s(x)}();e.Trait=n},function(t,e,r){"use strict";var n=r(6),o=function(t,e){Error.captureStackTrace(this,e||this),this.message=t||"Error"};n.inherits(o,Error),o.prototype.name="Abstract Error";var i=function(t){var e,r;"string"==typeof t?(e=t,r=0):(e=t.message||t.description,r=t.type),i.super_.call(this,e,this.constructor),this.type=r,t.address&&(this.address=t.address)};n.inherits(i,o),i.prototype.name="Api Error",t.exports.ApiError=i},function(t,e,r){"use strict";var n=r(67),o=Object.prototype.toString;function i(t){return"[object Array]"===o.call(t)}function s(t){return null!==t&&"object"==typeof t}function a(t){return"[object Function]"===o.call(t)}function u(t,e){if(null!=t)if("object"==typeof t||i(t)||(t=[t]),i(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:a,isStream:function(t){return s(t)&&a(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement},forEach:u,merge:function t(){var e={};function r(r,n){"object"==typeof e[n]&&"object"==typeof r?e[n]=t(e[n],r):e[n]=r}for(var n=0,o=arguments.length;n<o;n++)u(arguments[n],r);return e},extend:function(t,e,r){return u(e,function(e,o){t[o]=r&&"function"==typeof e?n(e,r):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,r){"use strict";var n=r(6);function o(t){return"string"==typeof t?t:String(t)}t.exports.promiseOrCallback=function(e,r){var n=e;return r&&"function"==typeof r&&(t.exports.resolvePromise(e,r),n=null),n},t.exports.resolvePromise=function(t,e){t.then(function(t){e&&e(null,t)}).catch(function(t){e&&e(t,null)})},t.exports.combine=function(t,e){for(var r,n,o=1;o<arguments.length;){for(n in r=arguments[o])r.hasOwnProperty(n)&&(t[n]=r[n]);o++}return t},t.exports.isFunction=function(t){return t&&"[object Function]"==={}.toString.call(t)},t.exports.wasSuccessful=function(e){var r,o,i=!0;if(n.isArray(e))for(r=0,o=e.length;r<o;r++)i=i&&t.exports.wasSuccessful(e[r]);else i="undefined"!==e.success;return i},t.exports.parseErrors=function(t){var e=[];return n.isArray(t)?t.forEach(function(t){t.error&&e.push(t.error)}):t.error?e.push(t.error):(console.log("UNPARSED"),console.log(t)),e},t.exports.createStringValueArray=function(t){var e=[];return Array.isArray(t)?t.forEach(function(t){e.push(o(t))}):e.push(o(t)),e},t.exports.valueForType=function(t,e){var r;return"bool"===t?r=Boolean(e):"uint8"===t||"uint16"===t||"int8"===t||"int16"===t?(r=Math.floor(e),/^uint.*/.test(t)&&r<0&&(r=0)):r="string"===t?String(e):"float"===t?Number(e):"list"===t?n.isArray(e)?e:[]:e,r},t.exports.getStringValue=function(t,e){var r=t||"";return e&&r.length>e&&(r=r.substr(0,e)),r}},function(t,e,r){(function(t,n){var o=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(a(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,s=String(t).replace(o,function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}),u=n[r];r<i;u=n[++r])y(u)||!w(u)?s+=" "+u:s+=" "+a(u);return s},e.deprecate=function(r,o){if(g(t.process))return function(){return e.deprecate(r,o).apply(this,arguments)};if(!0===n.noDeprecation)return r;var i=!1;return function(){if(!i){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?console.trace(o):console.error(o),i=!0}return r.apply(this,arguments)}};var i,s={};function a(t,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&e._extend(n,r),g(n.showHidden)&&(n.showHidden=!1),g(n.depth)&&(n.depth=2),g(n.colors)&&(n.colors=!1),g(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),p(n,t,n.depth)}function u(t,e){var r=a.styles[e];return r?"["+a.colors[r][0]+"m"+t+"["+a.colors[r][1]+"m":t}function c(t,e){return t}function p(t,r,n){if(t.customInspect&&r&&O(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,t);return v(o)||(o=p(t,o,n)),o}var i=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(v(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(m(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(t,r);if(i)return i;var s=Object.keys(r),a=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),S(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(r);if(0===s.length){if(O(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(b(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(x(r))return t.stylize(Date.prototype.toString.call(r),"date");if(S(r))return l(r)}var c,w="",_=!1,A=["{","}"];(h(r)&&(_=!0,A=["[","]"]),O(r))&&(w=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(w=" "+RegExp.prototype.toString.call(r)),x(r)&&(w=" "+Date.prototype.toUTCString.call(r)),S(r)&&(w=" "+l(r)),0!==s.length||_&&0!=r.length?n<0?b(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),c=_?function(t,e,r,n,o){for(var i=[],s=0,a=e.length;s<a;++s)E(e,String(s))?i.push(f(t,e,r,n,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(f(t,e,r,n,o,!0))}),i}(t,r,n,a,s):s.map(function(e){return f(t,r,n,a,e,_)}),t.seen.pop(),function(t,e,r){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(c,w,A)):A[0]+w+A[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,r,n,o,i){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),E(n,o)||(s="["+o+"]"),a||(t.seen.indexOf(u.value)<0?(a=y(r)?p(t,u.value,null):p(t,u.value,r-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),g(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function h(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function y(t){return null===t}function m(t){return"number"==typeof t}function v(t){return"string"==typeof t}function g(t){return void 0===t}function b(t){return w(t)&&"[object RegExp]"===_(t)}function w(t){return"object"==typeof t&&null!==t}function x(t){return w(t)&&"[object Date]"===_(t)}function S(t){return w(t)&&("[object Error]"===_(t)||t instanceof Error)}function O(t){return"function"==typeof t}function _(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(g(i)&&(i=n.env.NODE_DEBUG||""),t=t.toUpperCase(),!s[t])if(new RegExp("\\b"+t+"\\b","i").test(i)){var r=n.pid;s[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else s[t]=function(){};return s[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=h,e.isBoolean=d,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=v,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=g,e.isRegExp=b,e.isObject=w,e.isDate=x,e.isError=S,e.isFunction=O,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(119);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,r;console.log("%s - %s",(t=new Date,r=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":"),[t.getDate(),j[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=r(120),e._extend=function(t,e){if(!e||!w(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(this,r(65),r(34))},function(t,e,r){var n=r(8),o=r(48),i=r(38),s=Object.defineProperty;e.f=r(9)?Object.defineProperty:function(t,e,r){if(n(t),e=i(e,!0),n(r),o)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){var n=r(13);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,r){t.exports=!r(23)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,r){"use strict";var n=r(2).Trait,o=r(3).ApiError;t.exports=function(t,e,r,i,s){return n({path:t,method:e,version:r,permission:i,response:s||"application/json",pathParameters:function(){if(!this.path)throw new o("The command has no path");return function(t){var e,r=[],n=null,o=0;if(t)for(;o<t.length;)"<"===(e=t.charAt(o))?n="":">"===e?null!==n&&(r.push(n),n=null):null!==n&&(n+=e),o+=1;return r}(this.path)},getPath:function(t){var e=this.pathParameters(),r=this.path;return e.forEach(function(e){if(void 0===t[e])throw new o("The required parameter '"+e+"' was missing a value.");r=r.replace("<"+e+">",t[e])}),r},toString:function(){var t={path:this.path,method:this.method,version:this.version};return JSON.stringify(t)}})}},function(t,e,r){"use strict";var n=r(2).Trait;r(3).ApiError;t.exports=function(t){return n({commandDescription:t})}},function(t,e,r){var n=r(7),o=r(30);t.exports=r(9)?function(t,e,r){return n.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){"use strict";var n=r(6),o=r(2).Trait,i=r(3).ApiError;t.exports=function(t){var e;if(0===arguments.length)throw new i("At least one post processing functions must be provided");return e=function t(e){var r=[];if(n.isArray(e))e.forEach(function(e){r=r.concat(t(e))});else{if("function"!=typeof e)throw new i("The post processing function must be a function; "+typeof e);r.push(e)}return r}(Array.prototype.slice.call(arguments)),o({postProcessing:e})}},function(t,e,r){"use strict";var n=r(2).Trait;t.exports=function(t,e){var r={};return e.forEach(function(t){r[t.name]=n.create(Object.prototype,function t(e){var r={name:e.name,type:e.type,optional:e.optional};return"string"===e.type&&(e.validValues&&(r.validValues=e.validValues),e.maxLength&&(r.maxLength=e.maxLength),e.minLength&&(r.minLength=e.minLength)),"list"===e.type&&e.listType&&(r.valueType=n.create(Object.prototype,t(e.listType))),e.defaultValue&&(r.defaultValue=e.defaultValue),void 0!==e.minValue&&void 0!==e.maxValue&&(r.range={min:e.minValue,max:e.maxValue}),n(r)}(t))}),n({bodyType:t,bodyArguments:r,buildRequestBody:function(t){var e={},r=this;return Object.keys(r.bodyArguments).forEach(function(n){var o=t?t[n]:void 0,i=r.bodyArguments[n];if(r.bodyArguments.hasOwnProperty(n))if(i.optional)e[n]=o;else{if(!o)throw new Error("The required argument '"+n+"' is missing a value");e[n]=o}}),e}})}},function(t,e){var r=t.exports={version:"2.6.2"};"number"==typeof __e&&(__e=r)},function(t,e,r){var n=r(94),o=r(40);t.exports=function(t){return n(o(t))}},function(t,e,r){"use strict";
/*!
 * @description Recursive object extending
 * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>
 * @license MIT
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2013-2018 Viacheslav Lotsmanov
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */function n(t){return t instanceof Buffer||t instanceof Date||t instanceof RegExp}function o(t){if(t instanceof Buffer){var e=Buffer.alloc?Buffer.alloc(t.length):new Buffer(t.length);return t.copy(e),e}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);throw new Error("Unexpected situation")}function i(t,e){return"__proto__"===e?void 0:t[e]}var s=t.exports=function(){if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];var t,e,r=arguments[0];return Array.prototype.slice.call(arguments,1).forEach(function(a){"object"!=typeof a||null===a||Array.isArray(a)||Object.keys(a).forEach(function(u){return e=i(r,u),(t=i(a,u))===r?void 0:"object"!=typeof t||null===t?void(r[u]=t):Array.isArray(t)?void(r[u]=function t(e){var r=[];return e.forEach(function(e,i){"object"==typeof e&&null!==e?Array.isArray(e)?r[i]=t(e):n(e)?r[i]=o(e):r[i]=s({},e):r[i]=e}),r}(t)):n(t)?void(r[u]=o(t)):"object"!=typeof e||null===e||Array.isArray(e)?void(r[u]=s({},t)):void(r[u]=s(e,t))})}),r}},function(t,e){t.exports=!1},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,r){var n=r(0),o=r(12),i=r(14),s=r(22)("src"),a=Function.toString,u=(""+a).split("toString");r(17).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,r,a){var c="function"==typeof r;c&&(i(r,"name")||o(r,"name",e)),t[e]!==r&&(c&&(i(r,s)||o(r,s,t[e]?""+t[e]:u.join(String(e)))),t===n?t[e]=r:a?t[e]?t[e]=r:o(t,e,r):(delete t[e],o(t,e,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},function(t,e){t.exports={}},function(t,e,r){"use strict";r(2).Trait;var n=r(16);t.exports=function(t,e){var r=[{name:"on",type:"bool",optional:!0},{name:"bri",type:"uint8",minValue:0,maxValue:254,optional:!0},{name:"hue",type:"uint16",minValue:0,maxValue:65535,optional:!0},{name:"sat",type:"uint8",minValue:0,maxValue:255,optional:!0},{name:"xy",type:"list",listType:{name:"xyValue",type:"float",minValue:0,maxValue:1,optional:!1},optional:!0},{name:"ct",type:"uint8",minValue:153,maxValue:500,optional:!0},{name:"effect",type:"string",defaultValue:"none",validValues:["none","colorloop"],optional:!0},{name:"transitiontime",type:"uint16",defaultValue:4,minValue:0,maxValue:65535,optional:!0},{name:"bri_inc",type:"int8",minValue:-254,maxValue:254,optional:!0},{name:"sat_inc",type:"int8",minValue:-254,maxValue:254,optional:!0},{name:"hue_inc",type:"int16",minValue:-65534,maxValue:65534,optional:!0},{name:"ct_inc",type:"int16",minValue:-65534,maxValue:65534,optional:!0},{name:"xy_inc",type:"float",minValue:-.5,maxValue:.5,optional:!0}];return t&&r.push({name:"alert",type:"string",defaultValue:"none",validValues:["none","select","lselect"],optional:!0}),e&&r.push({name:"scene",type:"string",optional:!0}),n("application/json",r)}},function(t,e,r){var n=r(28);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,r){var n=r(0),o=r(17),i=r(12),s=r(24),a=r(27),u=function(t,e,r){var c,p,l,f,h=t&u.F,d=t&u.G,y=t&u.S,m=t&u.P,v=t&u.B,g=d?n:y?n[e]||(n[e]={}):(n[e]||{}).prototype,b=d?o:o[e]||(o[e]={}),w=b.prototype||(b.prototype={});for(c in d&&(r=e),r)l=((p=!h&&g&&void 0!==g[c])?g:r)[c],f=v&&p?a(l,n):m&&"function"==typeof l?a(Function.call,l):l,g&&s(g,c,l,t&u.U),b[c]!=l&&i(b,c,f),m&&w[c]!=l&&(w[c]=l)};n.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var n=r(7).f,o=r(14),i=r(1)("toStringTag");t.exports=function(t,e,r){t&&!o(t=r?t:t.prototype,i)&&n(t,i,{configurable:!0,value:e})}},function(t,e,r){var n=r(55),o=r(42);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e,r){"use strict";r.r(e),r.d(e,"defer",function(){return o}),r.d(e,"all",function(){return i});r(60),r(61),r(114),r(46);function n(){}function o(){var t=new n;return t.promise=new Promise(function(e,r){t.resolve=e,t.reject=r}),t}var i=Promise.all},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,c=[],p=!1,l=-1;function f(){p&&u&&(p=!1,u.length?c=u.concat(c):l=-1,c.length&&h())}function h(){if(!p){var t=a(f);p=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,p=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||p||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){"use strict";var n=r(63),o=r(141),i=r(72),s=r(71),a=r(151),u=r(152),c=r(3).ApiError;function p(t,e){return function(){var r=Array.prototype.slice.call(arguments);return console.error(e),t.apply(this,r)}}t.exports={HueApi:o,BridgeApi:o,api:o,connect:function(t){return new o(t)},lightState:i,scheduledEvent:s,scene:a,timer:u,upnpSearch:n.networkSearch,nupnpSearch:n.locateBridges,locateBridges:p(n.locateBridges,"'locateBridges' is deprecated, please use 'nupnpSearch' instead"),searchForBridges:p(n.networkSearch,"'searchForBridges' is deprecated, please use 'upnpSearch' instead"),ApiError:c}},function(t,e,r){var n=r(17),o=r(0),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:r(20)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,r){var n=r(13),o=r(0).document,i=n(o)&&n(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,r){var n=r(13);t.exports=function(t,e){if(!n(t))return t;var r,o;if(e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if(!e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,r){var n=r(36)("keys"),o=r(22);t.exports=function(t){return n[t]||(n[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,r){"use strict";(function(e){var n=r(4),o=r(124),i=/^\)\]\}',?\n/,s={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var u,c={adapter:("undefined"!=typeof XMLHttpRequest?u=r(45):void 0!==e&&(u=r(45)),u),transformRequest:[function(t,e){return o(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t){t=t.replace(i,"");try{t=JSON.parse(t)}catch(t){}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(t){c.headers[t]={}}),n.forEach(["post","put","patch"],function(t){c.headers[t]=n.merge(s)}),t.exports=c}).call(this,r(34))},function(t,e,r){"use strict";var n=r(4),o=r(125),i=r(127),s=r(128),a=r(129),u=r(68),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(130);t.exports=function(t){return new Promise(function(e,p){var l=t.data,f=t.headers;n.isFormData(l)&&delete f["Content-Type"];var h=new XMLHttpRequest,d="onreadystatechange",y=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in h||a(t.url)||(h=new window.XDomainRequest,d="onload",y=!0,h.onprogress=function(){},h.ontimeout=function(){}),t.auth){var m=t.auth.username||"",v=t.auth.password||"";f.Authorization="Basic "+c(m+":"+v)}if(h.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h[d]=function(){if(h&&(4===h.readyState||y)&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?h.response:h.responseText,status:1223===h.status?204:h.status,statusText:1223===h.status?"No Content":h.statusText,headers:r,config:t,request:h};o(e,p,n),h=null}},h.onerror=function(){p(u("Network Error",t)),h=null},h.ontimeout=function(){p(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED")),h=null},n.isStandardBrowserEnv()){var g=r(131),b=(t.withCredentials||a(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;b&&(f[t.xsrfHeaderName]=b)}if("setRequestHeader"in h&&n.forEach(f,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete f[e]:h.setRequestHeader(e,t)}),t.withCredentials&&(h.withCredentials=!0),t.responseType)try{h.responseType=t.responseType}catch(t){if("json"!==h.responseType)throw t}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){h&&(h.abort(),p(t),h=null)}),void 0===l&&(l=null),h.send(l)})}},function(t,e,r){"use strict";var n,o,i,s,a=r(20),u=r(0),c=r(27),p=r(47),l=r(29),f=r(13),h=r(28),d=r(75),y=r(76),m=r(80),v=r(50).set,g=r(82)(),b=r(52),w=r(83),x=r(84),S=r(85),O=u.TypeError,_=u.process,A=_&&_.versions,j=A&&A.v8||"",E=u.Promise,L="process"==p(_),T=function(){},k=o=b.f,C=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[r(1)("species")]=function(t){t(T,T)};return(L||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e&&0!==j.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),P=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var r=t._c;g(function(){for(var n=t._v,o=1==t._s,i=0,s=function(e){var r,i,s,a=o?e.ok:e.fail,u=e.resolve,c=e.reject,p=e.domain;try{a?(o||(2==t._h&&U(t),t._h=1),!0===a?r=n:(p&&p.enter(),r=a(n),p&&(p.exit(),s=!0)),r===e.promise?c(O("Promise-chain cycle")):(i=P(r))?i.call(r,u,c):u(r)):c(n)}catch(t){p&&!s&&p.exit(),c(t)}};r.length>i;)s(r[i++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){v.call(u,function(){var e,r,n,o=t._v,i=G(t);if(i&&(e=w(function(){L?_.emit("unhandledRejection",o,t):(r=u.onunhandledrejection)?r({promise:t,reason:o}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",o)}),t._h=L||G(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},G=function(t){return 1!==t._h&&0===(t._a||t._c).length},U=function(t){v.call(u,function(){var e;L?_.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},V=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},F=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw O("Promise can't be resolved itself");(e=P(t))?g(function(){var n={_w:r,_d:!1};try{e.call(t,c(F,n,1),c(V,n,1))}catch(t){V.call(n,t)}}):(r._v=t,r._s=1,N(r,!1))}catch(t){V.call({_w:r,_d:!1},t)}}};C||(E=function(t){d(this,E,"Promise","_h"),h(t),n.call(this);try{t(c(F,this,1),c(V,this,1))}catch(t){V.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(86)(E.prototype,{then:function(t,e){var r=k(m(this,E));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=L?_.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&N(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new n;this.promise=t,this.resolve=c(F,t,1),this.reject=c(V,t,1)},b.f=k=function(t){return t===E||t===s?new i(t):o(t)}),l(l.G+l.W+l.F*!C,{Promise:E}),r(31)(E,"Promise"),r(87)("Promise"),s=r(17).Promise,l(l.S+l.F*!C,"Promise",{reject:function(t){var e=k(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(a||!C),"Promise",{resolve:function(t){return S(a&&this===s?E:this,t)}}),l(l.S+l.F*!(C&&r(88)(function(t){E.all(t).catch(T)})),"Promise",{all:function(t){var e=this,r=k(e),n=r.resolve,o=r.reject,i=w(function(){var r=[],i=0,s=1;y(t,!1,function(t){var a=i++,u=!1;r.push(void 0),s++,e.resolve(t).then(function(t){u||(u=!0,r[a]=t,--s||n(r))},o)}),--s||n(r)});return i.e&&o(i.v),r.promise},race:function(t){var e=this,r=k(e),n=r.reject,o=w(function(){y(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}})},function(t,e,r){var n=r(21),o=r(1)("toStringTag"),i="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?r:i?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,r){t.exports=!r(9)&&!r(23)(function(){return 7!=Object.defineProperty(r(37)("div"),"a",{get:function(){return 7}}).a})},function(t,e,r){var n=r(39),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,r){var n,o,i,s=r(27),a=r(81),u=r(51),c=r(37),p=r(0),l=p.process,f=p.setImmediate,h=p.clearImmediate,d=p.MessageChannel,y=p.Dispatch,m=0,v={},g=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){g.call(t.data)};f&&h||(f=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return v[++m]=function(){a("function"==typeof t?t:Function(t),e)},n(m),m},h=function(t){delete v[t]},"process"==r(21)(l)?n=function(t){l.nextTick(s(g,t,1))}:y&&y.now?n=function(t){y.now(s(g,t,1))}:d?(i=(o=new d).port2,o.port1.onmessage=b,n=s(i.postMessage,i,1)):p.addEventListener&&"function"==typeof postMessage&&!p.importScripts?(n=function(t){p.postMessage(t+"","*")},p.addEventListener("message",b,!1)):n="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),g.call(t)}}:function(t){setTimeout(s(g,t,1),0)}),t.exports={set:f,clear:h}},function(t,e,r){var n=r(0).document;t.exports=n&&n.documentElement},function(t,e,r){"use strict";var n=r(28);function o(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n}),this.resolve=n(e),this.reject=n(r)}t.exports.f=function(t){return new o(t)}},function(t,e,r){var n=r(0),o=r(17),i=r(20),s=r(54),a=r(7).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,r){e.f=r(1)},function(t,e,r){var n=r(14),o=r(18),i=r(56)(!1),s=r(41)("IE_PROTO");t.exports=function(t,e){var r,a=o(t),u=0,c=[];for(r in a)r!=s&&n(a,r)&&c.push(r);for(;e.length>u;)n(a,r=e[u++])&&(~i(c,r)||c.push(r));return c}},function(t,e,r){var n=r(18),o=r(49),i=r(95);t.exports=function(t){return function(e,r,s){var a,u=n(e),c=o(u.length),p=i(s,c);if(t&&r!=r){for(;c>p;)if((a=u[p++])!=a)return!0}else for(;c>p;p++)if((t||p in u)&&u[p]===r)return t||p||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){var n=r(8),o=r(97),i=r(42),s=r(41)("IE_PROTO"),a=function(){},u=function(){var t,e=r(37)("iframe"),n=i.length;for(e.style.display="none",r(51).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;n--;)delete u.prototype[i[n]];return u()};t.exports=Object.create||function(t,e){var r;return null!==t?(a.prototype=n(t),r=new a,a.prototype=null,r[s]=t):r=u(),void 0===e?r:o(r,e)}},function(t,e,r){var n=r(55),o=r(42).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},function(t,e,r){for(var n=r(61),o=r(32),i=r(24),s=r(0),a=r(12),u=r(25),c=r(1),p=c("iterator"),l=c("toStringTag"),f=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=o(h),y=0;y<d.length;y++){var m,v=d[y],g=h[v],b=s[v],w=b&&b.prototype;if(w&&(w[p]||a(w,p,f),w[l]||a(w,l,v),u[v]=f,g))for(m in n)w[m]||i(w,m,n[m],!0)}},function(t,e,r){"use strict";var n=r(100),o=r(101),i=r(25),s=r(18);t.exports=r(62)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(t,e,r){"use strict";var n=r(20),o=r(29),i=r(24),s=r(12),a=r(25),u=r(102),c=r(31),p=r(103),l=r(1)("iterator"),f=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,r,d,y,m,v){u(r,e,d);var g,b,w,x=function(t){if(!f&&t in A)return A[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},S=e+" Iterator",O="values"==y,_=!1,A=t.prototype,j=A[l]||A["@@iterator"]||y&&A[y],E=j||x(y),L=y?O?x("entries"):E:void 0,T="Array"==e&&A.entries||j;if(T&&(w=p(T.call(new t)))!==Object.prototype&&w.next&&(c(w,S,!0),n||"function"==typeof w[l]||s(w,l,h)),O&&j&&"values"!==j.name&&(_=!0,E=function(){return j.call(this)}),n&&!v||!f&&!_&&A[l]||s(A,l,E),a[e]=E,a[S]=h,y)if(g={values:O?E:x("values"),keys:m?E:x("keys"),entries:L},v)for(b in g)b in A||i(A,b,g[b]);else o(o.P+o.F*(f||_),e,g);return g}},function(t,e,r){"use strict";var n=r(64),o=r(33),i=r(116),s=r(66),a=r(5),u=r(139);function c(t){var e,r=[];for(e in t)t.hasOwnProperty(e)&&r.push(p(e).then(f));return o.all(r)}function p(t){return s.simpleGet(t).then(l).fail(function(t){})}function l(t){var e=new(r(140).Parser),n=o.defer();return e.parseString(t,function(t,e){var r,o=null;t?n.reject(t):(o={version:{major:e.root.specVersion[0].major[0],minor:e.root.specVersion[0].minor[0]},url:e.root.URLBase[0],name:e.root.device[0].friendlyName[0],manufacturer:e.root.device[0].manufacturer[0],model:{name:e.root.device[0].modelName[0],description:e.root.device[0].modelDescription[0],number:e.root.device[0].modelNumber[0],serial:e.root.device[0].serialNumber[0],udn:e.root.device[0].UDN[0]}},e.root.device[0].iconList&&e.root.device[0].iconList[0]&&e.root.device[0].iconList[0].icon&&(r=[],e.root.device[0].iconList[0].icon.forEach(function(t){r.push({mimetype:t.mimetype[0],height:t.height[0],width:t.width[0],depth:t.depth[0],url:t.url[0]})}),o.icons=r),n.resolve(o))}),n.promise}function f(t){var e;return function(t){return!!(t&&t.model&&t.model.name&&t.model.name.toLowerCase().indexOf("philips hue bridge")>=0)}(t)?(e=n.parse(t.url),{id:t.model.serial,ipaddress:e.hostname}):null}t.exports.networkSearch=function(t){return i.locateBridges(t).then(c)},t.exports.locateBridges=function(t){var e=s.invoke(u.upnpLookup,{host:"www.meethue.com",ssl:!0});return a.promiseOrCallback(e,t)},t.exports.description=function(t){return s.invoke(u.description,{host:t}).then(l)}},function(t,e,r){"use strict";var n=r(108),o=r(110);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){o.isString(t)&&(t=b(t));return t instanceof i?t.format():i.prototype.format.call(t)},e.Url=i;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),p=["'"].concat(c),l=["%","/","?",";","#"].concat(p),f=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r(111);function b(t,e,r){if(t&&o.isObject(t)&&t instanceof i)return t;var n=new i;return n.parse(t,e,r),n}i.prototype.parse=function(t,e,r){if(!o.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),a=-1!==i&&i<t.indexOf("#")?"?":"#",c=t.split(a);c[0]=c[0].replace(/\\/g,"/");var b=t=c.join(a);if(b=b.trim(),!r&&1===t.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=s.exec(b);if(x){var S=(x=x[0]).toLowerCase();this.protocol=S,b=b.substr(x.length)}if(r||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===b.substr(0,2);!O||x&&m[x]||(b=b.substr(2),this.slashes=!0)}if(!m[x]&&(O||x&&!v[x])){for(var _,A,j=-1,E=0;E<f.length;E++){-1!==(L=b.indexOf(f[E]))&&(-1===j||L<j)&&(j=L)}-1!==(A=-1===j?b.lastIndexOf("@"):b.lastIndexOf("@",j))&&(_=b.slice(0,A),b=b.slice(A+1),this.auth=decodeURIComponent(_)),j=-1;for(E=0;E<l.length;E++){var L;-1!==(L=b.indexOf(l[E]))&&(-1===j||L<j)&&(j=L)}-1===j&&(j=b.length),this.host=b.slice(0,j),b=b.slice(j),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var k=this.hostname.split(/\./),C=(E=0,k.length);E<C;E++){var P=k[E];if(P&&!P.match(h)){for(var N="",R=0,G=P.length;R<G;R++)P.charCodeAt(R)>127?N+="x":N+=P[R];if(!N.match(h)){var U=k.slice(0,E),V=k.slice(E+1),F=P.match(d);F&&(U.push(F[1]),V.unshift(F[2])),V.length&&(b="/"+V.join(".")+b),this.hostname=U.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=n.toASCII(this.hostname));var I=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+I,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!y[S])for(E=0,C=p.length;E<C;E++){var D=p[E];if(-1!==b.indexOf(D)){var M=encodeURIComponent(D);M===D&&(M=escape(D)),b=b.split(D).join(M)}}var q=b.indexOf("#");-1!==q&&(this.hash=b.substr(q),b=b.slice(0,q));var z=b.indexOf("?");if(-1!==z?(this.search=b.substr(z),this.query=b.substr(z+1),e&&(this.query=g.parse(this.query)),b=b.slice(0,z)):e&&(this.search="",this.query={}),b&&(this.pathname=b),v[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){I=this.pathname||"";var W=this.search||"";this.path=I+W}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(s=g.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+i+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+n},i.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(o.isString(t)){var e=new i;e.parse(t,!1,!0),t=e}for(var r=new i,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var p=u[c];"protocol"!==p&&(r[p]=t[p])}return v[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!v[t.protocol]){for(var l=Object.keys(t),f=0;f<l.length;f++){var h=l[f];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||m[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var y=r.pathname||"",g=r.search||"";r.path=y+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=w||b||r.host&&t.pathname,S=x,O=r.pathname&&r.pathname.split("/")||[],_=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!v[r.protocol]);if(_&&(r.hostname="",r.port=null,r.host&&(""===O[0]?O[0]=r.host:O.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),x=x&&(""===d[0]||""===O[0])),w)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,O=d;else if(d.length)O||(O=[]),O.pop(),O=O.concat(d),r.search=t.search,r.query=t.query;else if(!o.isNullOrUndefined(t.search)){if(_)r.hostname=r.host=O.shift(),(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift());return r.search=t.search,r.query=t.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!O.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=O.slice(-1)[0],j=(r.host||t.host||O.length>1)&&("."===A||".."===A)||""===A,E=0,L=O.length;L>=0;L--)"."===(A=O[L])?O.splice(L,1):".."===A?(O.splice(L,1),E++):E&&(O.splice(L,1),E--);if(!x&&!S)for(;E--;E)O.unshift("..");!x||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),j&&"/"!==O.join("/").substr(-1)&&O.push("");var T,k=""===O[0]||O[0]&&"/"===O[0].charAt(0);_&&(r.hostname=r.host=k?"":O.length?O.shift():"",(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift()));return(x=x||r.host&&O.length)&&!k&&O.unshift(""),O.length?r.pathname=O.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";(function(e){var n=r(64),o=r(6),i=r(33),s=r(121),a=r(45),u=r(3),c=/hue-api/.test(e.env.NODE_DEBUG),p={adapter:a};function l(t){var e,r;if(r=function t(e){var r=null,n=0,i=0;if(e)if(o.isArray(e))for(n=0,i=e.length;n<i&&!(r=t(e[n]));n++);else if(e.error)return{type:e.error.type,description:e.error.description,address:e.error.address};return r}(e=t.data))throw new u.ApiError(r);return e}function f(t){if(200!==t.status)throw new u.ApiError({type:"Response Error",description:"Unexpected response status; "+t.statusCode,statusCode:t.statusCode});return t}function h(t){var e=i.defer();return t.then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e.promise}t.exports.invoke=function(t,e){var r,o,i=function(t,e){var r,o={adapter:a,debug:c,headers:{}},i={protocol:e.ssl?"https":"http",hostname:e.host};if(e.port&&(i.port=e.port),o.timeout=e.timeout||1e4,o.method=t.method||"GET",!t.getPath)throw new u.ApiError("Cannot get the path to invoke from the command");if(i.pathname=t.getPath(e),o.url=n.format(i),t.bodyArguments&&t.buildRequestBody){if(r=t.buildRequestBody(e.values),"application/json"!==t.bodyType)throw new u.ApiError("No support for "+t.bodyType+" in requests.");o.responseType="json",o.data=JSON.stringify(r)}return t.response&&(o.headers.Accept=t.response),o}(t,e);return r=h(s(i)),t.statusCodeMap&&(r=r.then((o=t.statusCodeMap,function(t){if(o&&o[t.statusCode])throw new u.ApiError({type:t.statusCode,message:o[t.statusCode]});return t}))),r=r.then(f).then(function(t){return"application/json"===i.headers.Accept?l(t):t.data}),t.postProcessing&&t.postProcessing.forEach(function(t){r=r.then(t)}),r},t.exports.simpleGet=function(t){return h(s.get(t,p)).then(f).then(function(t){return t.data})}}).call(this,r(34))},function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e,r){"use strict";var n=r(126);t.exports=function(t,e,r,o){var i=new Error(t);return n(i,e,r,o)}},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){"use strict";var n=r(6),o=r(5),i=r(3),s="\\d{2}:\\d{2}:\\d{2}",a="W[0-9]{1,3}",u="\\d{4}-\\d{2}-\\d{2}",c={absolute:new RegExp(n.format("%sT%s",u,s)),randomized:new RegExp(n.format("%sT%sA%s",u,s,s)),recurring:new RegExp(n.format("%s/T%s",a,s)),recurringRandomized:new RegExp(n.format("%s/T%sA%s",a,s,s)),timer:new RegExp(n.format("PT%s",s)),timerRandom:new RegExp(n.format("PT%sA%s",s,s)),timerRecurringCount:new RegExp(n.format("R\\d{2}/PT%s",s)),timerRecurring:new RegExp(n.format("R/PT%s",s)),timerRecurringCountRandom:new RegExp(n.format("R\\d{2}/PT%sA%s",s,s))},p=function(){};function l(t){var e={},r=typeof t,n=null;if("string"===r?(Object.keys(c).forEach(function(e){!n&&c[e].test(t)&&(n=t)}),n||(n=function(t){var e=null,r=Date.parse(t);isNaN(r)||(e=f(r));return e}(t))):"number"===r?n=f(t):"object"===r&&t instanceof Date&&(n=f(t.getTime())),null===n)throw new i.ApiError("Invalid time value, '"+t+"'");return e.localtime=n,e}function f(t){var e=null;return isNaN(t)||(e=function(t){var e,r=null;t&&(e=t.toJSON(),r=e.substring(0,e.lastIndexOf(".")));return r}(new Date(t))),e}t.exports.create=function(){var t,e;return 0==arguments.length?t=new p:(e=arguments[0])instanceof p?t=e:(t=new p,e.name&&t.withName(e.name),e.description&&t.withDescription(e.description),(e.time||e.localtime)&&t.at(e.time||e.localtime),e.command&&t.withCommand(e.command),e.status&&t.withEnabledState(e.status)),t},p.prototype.at=function(t){return o.combine(this,l(t)),this},p.prototype.on=function(t){return o.combine(this,l(t)),this},p.prototype.when=function(t){return o.combine(this,l(t)),this},p.prototype.atRandomizedTime=function(t){if(!c.randomized.test(t))throw new i.ApiError(n.format("Time '%s' is not correct for randomized time",t));o.combine(this,{localtime:t})},p.prototype.atRecurringTime=function(t){if(!c.recurring.test(t))throw new i.ApiError(n.format("Time '%s' is not correct for recurring time",t));o.combine(this,{localtime:t})},p.prototype.atRecurringRandomizedTime=function(t){if(!c.recurringRandomized.test(t))throw new i.ApiError(n.format("Time '%s' is not correct for recurring randomized time",t));o.combine(this,{localtime:t})},p.prototype.withName=function(t){return o.combine(this,{name:o.getStringValue(t,32)}),this},p.prototype.withDescription=function(t){return o.combine(this,{description:o.getStringValue(t,64)}),this},p.prototype.withCommand=function(t){var e=null;return function(t){var e;if(!t)throw new i.ApiError("Command is not defined");if(!(e=t.address))throw new i.ApiError("The 'address' property must be specified.");if(/^\/api\/\.*\/\.*/.test(e))throw new i.ApiError("The 'address' property must begin with '/api' to be a valid endpoint");if(t.method,!t.method)throw new i.ApiError("The 'method' must be specified.");if(t.body,!t.body)throw new i.ApiError("The 'body' property must be specified.")}(e="string"===typeof t?JSON.parse(t):t),o.combine(this,{command:e}),this},p.prototype.withEnabledState=function(t){var e;e="enabled"===t?"enabled":"disabled"===t?"disabled":t?"enabled":"disabled",o.combine(this,{status:e})}},function(t,e,r){"use strict";r(6);var n=r(5),o=r(73),i=r(26)(!0).bodyArguments.value,s=function(){this.reset()};function a(t){return null!=t&&void 0!==t||(t=!0),{on:j(t)}}function u(t){return{bri:_(t)}}function c(t){return{ct:O(t)}}function p(t){return 182.5487*k(t,0,360)}function l(t){var e=i.transitiontime;return C(e,T(e,t))}function f(t){var e=i.bri_inc;return C(e,T(e,t))}function h(t){var e=i.sat_inc;return C(e,T(e,t))}function d(t){var e=i.hue_inc;return C(e,T(e,t))}function y(t){var e=i.ct_inc;return C(e,T(e,t))}function m(t){var e=i.xy_inc;return C(e,T(e,t))}function v(t,e){var r=t.range,n=r.min,o=r.max,i=k(e,0,100);return 0===i?n:100===i?o:i*(o/100)}function g(t){return x(v(i.sat,t))}function b(t){return _(v(i.bri,t))}function w(t,e){var r=i.xy,n=function(t){var e=r.valueType;return C(e,T(e,t))};return C(r,[n(t),n(e)])}function x(t){var e=i.sat;return C(e,T(e,t))}function S(t){var e=i.hue;return C(e,T(e,t))}function O(t){var e=i.ct;return C(e,T(e,t))}function _(t){var e=i.bri;return C(e,T(e,t))}function A(t){var e=i.alert;return C(e,L(e,t))}function j(t){return C(i.on,t)}function E(t){var e=i.effect;return C(e,L(e,t))}function L(t,e){var r,n=t.validValues;return n.forEach(function(t){r||t!==e||(r=e)}),r||t.defaultValue||n[0]}function T(t,e){var r=t.range;return(void 0===e||null===e&&t.defaultValue)&&(e=t.defaultValue),k(e,r.min,r.max)}function k(t,e,r){return isNaN(t)&&(t=e),t<e?e:t>r?r:t}function C(t,e){return n.valueForType(t.type,e)}t.exports.create=function(t){var e=new s;return t&&Object.keys(t).forEach(function(r){var o;t.hasOwnProperty(r)&&(o=e[r],n.isFunction(o)&&o.apply(e,[t[r]]))}),e},t.exports.isLightState=function(t){return t&&t instanceof s},s.prototype.payload=function(){return JSON.parse(JSON.stringify(this._values))},s.prototype.reset=function(){return this._values={},this},s.prototype.clear=s.prototype.reset,s.prototype.copy=function(){var t=new s;return t._addValues(this._values),t},s.prototype.strict=function(t){return this._strict=Boolean(t),this},s.prototype.isStrict=function(){return this._strict},s.prototype.on=function(t){return this._addValues(a(t)),this},s.prototype.bri=function(t){return this._addValues(u(t)),this},s.prototype.hue=function(t){return this._addValues({hue:S(t)}),this},s.prototype.sat=function(t){return this._addValues({sat:x(t)}),this},s.prototype.xy=function(t,e){return Array.isArray(arguments[0])&&(t=arguments[0][0],e=arguments[0][1]),this._addValues(function(t,e){return{xy:w(t,e)}}(t,e)),this},s.prototype.ct=function(t){return this._addValues(c(t)),this},s.prototype.alert=function(t){return this._addValues(function(t){return{alert:A(t)}}(t)),this},s.prototype.effect=function(t){return this._addValues(function(t){return{effect:E(t)}}(t)),this},s.prototype.transitiontime=function(t){return this._addValues(function(t){return{transitiontime:l(t)}}(t)),this},s.prototype.bri_inc=function(t){return this._addValues(function(t){return{bri_inc:f(t)}}(t)),this},s.prototype.sat_inc=function(t){return this._addValues(function(t){return{sat_inc:h(t)}}(t)),this},s.prototype.hue_inc=function(t){return this._addValues(function(t){return{hue_inc:d(t)}}(t)),this},s.prototype.ct_inc=function(t){return this._addValues(function(t){return{ct_inc:y(t)}}(t)),this},s.prototype.xy_inc=function(t){return this._addValues(function(t){return{xy_inc:m(t)}}(t)),this},s.prototype.scene=function(t){return this._addValues(function(t){var e={};t&&(e.scene=t);return e}(t)),this},s.prototype.turnOn=s.prototype.on,s.prototype.off=function(){return this._addValues(a(!1)),this},s.prototype.turnOff=s.prototype.off,s.prototype.brightness=function(t){return this.bri(b(t))},s.prototype.incrementBrightness=s.prototype.bri_inc,s.prototype.colorTemperature=s.prototype.ct,s.prototype.colourTemperature=s.prototype.ct,s.prototype.colorTemp=s.prototype.ct,s.prototype.colourTemp=s.prototype.ct,s.prototype.incrementColorTemp=s.prototype.ct_inc,s.prototype.incrementColorTemperature=s.prototype.ct_inc,s.prototype.incrementColourTemp=s.prototype.ct_inc,s.prototype.incrementColourTemperature=s.prototype.ct_inc,s.prototype.incrementHue=s.prototype.hue_inc,s.prototype.incrementXY=s.prototype.xy_inc,s.prototype.saturation=function(t){return this.sat(g(t))},s.prototype.incrementSaturation=s.prototype.sat_inc,s.prototype.shortAlert=function(){return this.alert("select")},s.prototype.alertShort=s.prototype.shortAlert,s.prototype.longAlert=function(){return this.alert("lselect")},s.prototype.alertLong=s.prototype.longAlert,s.prototype.transitionTime=s.prototype.transitiontime,s.prototype.transition=function(t){return this.transitionTime(function(t){var e=0;t>0&&(e=Math.round(t/100));return e}(t))},s.prototype.transitiontime_milliseconds=s.prototype.transition,s.prototype.transitionTime_milliseconds=s.prototype.transition,s.prototype.transitionSlow=function(){return this.transitionTime(8)},s.prototype.transitionFast=function(){return this.transitionTime(2)},s.prototype.transitionInstant=function(){return this.transitionTime(0)},s.prototype.transitionDefault=function(){return this.transitionTime(4)},s.prototype.white=function(t,e){return this._addValues(function(t,e){return n.combine(c(t),u(b(e)))}(t,e)),this},s.prototype.hsl=function(t,e,r){var n=e*(r<50?r:100-r)/100,o=0|Math.round(200*n/(r+n)),i=Math.round(n+r);return this.brightness(i).hue(p(t)).sat(g(o))},s.prototype.hsb=function(t,e,r){return this.brightness(r).hue(p(t)).sat(g(e))},s.prototype.rgb=function(t,e,r){return Array.isArray(arguments[0])&&(t=arguments[0][0],e=arguments[0][1],r=arguments[0][2]),this._addValues({rgb:[k(t,0,255),k(e,0,255),k(r,0,255)]}),this},s.prototype.hasRGB=function(){return!!this._values.rgb},s.prototype.colorLoop=function(){return this.effect("colorloop")},s.prototype.colourLoop=s.prototype.colorLoop,s.prototype.effectColorLoop=s.prototype.colorLoop,s.prototype.effectColourLoop=s.prototype.colorLoop,s.prototype.applyRGB=function(t){var e=null;return this.hasRGB()&&(e=this.copy()).xy(o.convertRGBtoXY(this._values.rgb,t)),e},s.prototype._addValues=function(){var t=this._values;Array.prototype.slice.apply(arguments).forEach(function(e){n.combine(t,e)})},s.prototype._removeValues=function(){var t=this._values;Array.prototype.slice.apply(arguments).forEach(function(e){delete t[e]})}},function(t,e,r){"use strict";var n=function(t,e){this.x=t,this.y=e},o={red:new n(.675,.322),green:new n(.4091,.518),blue:new n(.167,.04)},i={red:new n(.704,.296),green:new n(.2151,.7106),blue:new n(.138,.08)},s={red:new n(1,0),green:new n(0,1),blue:new n(0,0)};function a(t,e){return t.x*e.y-t.y*e.x}function u(t,e,r){var o=new n(r.x-t.x,r.y-t.y),i=new n(e.x-t.x,e.y-t.y),s=i.x*i.x+i.y*i.y,a=(o.x*i.x+o.y*i.y)/s;return a<0?a=0:a>1&&(a=1),new n(t.x+i.x*a,t.y+i.y*a)}function c(t,e){var r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)}function p(t,e,r,o){var i,s,p,f,h,d,y,m,v=l(t),g=l(e),b=l(r),w=.4360747*v+.3850649*g+.0930804*b,x=.2225045*v+.7168786*g+.0406169*b,S=.0139322*v+.0971045*g+.7141733*b,O=w/(w+x+S),_=x/(w+x+S);return O=isNaN(O)?0:O,_=isNaN(_)?0:_,i=new n(O,_),s=i,f=new n((p=o).green.x-p.red.x,p.green.y-p.red.y),h=new n(p.blue.x-p.red.x,p.blue.y-p.red.y),d=new n(s.x-p.red.x,s.y-p.red.y),y=a(d,h)/a(f,h),m=a(f,d)/a(f,h),y>=0&&m>=0&&y+m<=1||(i=function(t,e){var r=u(e.red,e.green,t),n=u(e.blue,e.red,t),o=u(e.green,e.blue,t),i=c(t,r),s=c(t,n),a=c(t,o),p=i,l=r;s<p&&(p=s,l=n);a<p&&(l=o);return l}(i,o)),[i.x,i.y]}function l(t){return t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92}t.exports={convertRGBtoXY:function(t,e){var r=function(t){var e=s;return t&&(t=t.toLowerCase(),e=/^lct/.test(t)?o:/^llc/.test(t)?i:(/^lwb/.test(t),s)),e}(e);return p(t[0],t[1],t[2],r)},convertXYtoRGB:function(t,e,r){var n=r/e*t,o=r/e*(1-t-e),i=[1.612*n-.203*r-.302*o,.509*-n+1.412*r+.066*o,.026*n-.072*r+.962*o];i=(i=i.map(function(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055})).map(function(t){return Math.max(0,t)});var s=Math.max(i[0],i[1],i[2]);return s>1&&(i=i.map(function(t){return t/s})),i=i.map(function(t){return Math.floor(255*t)})}}},function(t,e,r){"use strict";r.r(e);r(46),r(89),r(90),r(91),r(60),r(105),r(107);var n=r(35),o=r.n(n);function i(t,e,r,n,o,i,s){try{var a=t[i](s),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,o)}var s=o.a.HueApi,a=o.a.lightState;function u(){this.devices={}}Error.captureStackTrace=function(){},u.prototype.getDevice=function(t){return this.api?new p(t,this.api):null},u.prototype.updateLights=function(){var t=[],e={devices:t};for(var r in this.devices){var n={id:(r=this.devices[r]).id,name:r.name,interfaces:["OnOff","Brightness"],type:"Light"};log.i("Found device: ".concat(JSON.stringify(n))),-1!=r.type.toLowerCase().indexOf("color")&&n.interfaces.push("ColorSetting"),t.push(n)}deviceManager.onDevicesChanged(e)};var c=new u;function p(t,e){this.id=t,this.api=e}p.prototype.isOn=function(){return!0},p.prototype.turnOff=function(){this.api.setLightState(this.id,a.create().turnOff())},p.prototype.turnOn=function(){this.api.setLightState(this.id,a.create().turnOn())},p.prototype.setLevel=function(t){this.api.setLightState(this.id,a.create().brightness(t))},p.prototype.getLevel=function(){return 100},p.prototype.supportsSpectrumRgb=function(){return!0},p.prototype.supportsSpectrumHsv=function(){return!0},p.prototype.supportsTemperature=function(){return!1},p.prototype.setRgb=function(t,e,r){this.api.setLightState(this.id,a.create().rgb(t,e,r))},p.prototype.setHsv=function(t,e,r){this.api.setLightState(this.id,a.create().hsb(t,100*e,100*r))};var l=scriptSettings.getString("bridgeId"),f=scriptSettings.getString("bridgeAddress");if(l){var h=scriptSettings.getString("user-".concat(l));h?log.i("Using existing login for bridge ".concat(l)):log.i("No login found for ".concat(l,". You will need to press the pairing button on your Hue bridge, and the save plugin to reload it."))}else log.i('No "bridgeId" was specified in Plugin Settings. Checking for default if one exists.');o.a.nupnpSearch().then(function(t){if(!l){if(0==t.length)return void log.e("No Hue bridges found");if(1!=t.length){log.e("Multiple hue bridges found: ");var e=!0,r=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var u=o.value;log.e(u.id)}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}return void log.e('Please specify which bridge to manage using the Plugin Setting "bridgeId"')}l=t[0].id,log.i("Found bridge ".concat(l,". Setting as default.")),scriptSettings.putString("bridgeId",l)}var p,d=!0,y=!1,m=void 0;try{for(var v,g=t[Symbol.iterator]();!(d=(v=g.next()).done);d=!0)if((u=v.value).id==l){p=u.ipaddress;break}}catch(t){y=!0,m=t}finally{try{d||null==g.return||g.return()}finally{if(y)throw m}}if(p)f=p;else{if(!f)return void log.e("Unable to locate bridge address.");log.w("Unable to locate most recent bridge address with nupnp search. using last known address.")}function b(t,e){return w.apply(this,arguments)}function w(){var t;return t=regeneratorRuntime.mark(function t(e,r){var n,o,i,a,u,p,l,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new s(e,r),c.api=n,t.next=4,n.lights();case 4:for(o=t.sent,log.i("lights: ".concat(o)),i=!0,a=!1,u=void 0,t.prev=9,p=o.lights[Symbol.iterator]();!(i=(l=p.next()).done);i=!0)f=l.value,c.devices[f.id]=f;t.next=17;break;case 13:t.prev=13,t.t0=t.catch(9),a=!0,u=t.t0;case 17:t.prev=17,t.prev=18,i||null==p.return||p.return();case 20:if(t.prev=20,!a){t.next=23;break}throw u;case 23:return t.finish(20);case 24:return t.finish(17);case 25:c.updateLights();case 26:case"end":return t.stop()}},t,this,[[9,13,17,25],[18,,20,24]])}),(w=function(){var e=this,r=arguments;return new Promise(function(n,o){var s=t.apply(e,r);function a(t){i(s,n,o,a,u,"next",t)}function u(t){i(s,n,o,a,u,"throw",t)}a(void 0)})}).apply(this,arguments)}if(scriptSettings.putString("bridgeAddress",f),log.i("Hue Bridges Found: ".concat(l)),log.i("Querying devices..."),h)return log.i("Using existing login for bridge ".concat(l)),void b(f,h);(new s).registerUser(f,"ScryptedServer").then(function(t){log.i("Created user ".concat(t)),h=t,scriptSettings.putString("user-".concat(l),t),b(f,h)}).fail(function(t){log.e("error creating user: ".concat(t))}).done()}),e.default=c},function(t,e){t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,e,r){var n=r(27),o=r(77),i=r(78),s=r(8),a=r(49),u=r(79),c={},p={};(e=t.exports=function(t,e,r,l,f){var h,d,y,m,v=f?function(){return t}:u(t),g=n(r,l,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(i(v)){for(h=a(t.length);h>b;b++)if((m=e?g(s(d=t[b])[0],d[1]):g(t[b]))===c||m===p)return m}else for(y=v.call(t);!(d=y.next()).done;)if((m=o(y,g,d.value,e))===c||m===p)return m}).BREAK=c,e.RETURN=p},function(t,e,r){var n=r(8);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&n(i.call(t)),e}}},function(t,e,r){var n=r(25),o=r(1)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||i[o]===t)}},function(t,e,r){var n=r(47),o=r(1)("iterator"),i=r(25);t.exports=r(17).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[n(t)]}},function(t,e,r){var n=r(8),o=r(28),i=r(1)("species");t.exports=function(t,e){var r,s=n(t).constructor;return void 0===s||null==(r=n(s)[i])?e:o(r)}},function(t,e){t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},function(t,e,r){var n=r(0),o=r(50).set,i=n.MutationObserver||n.WebKitMutationObserver,s=n.process,a=n.Promise,u="process"==r(21)(s);t.exports=function(){var t,e,r,c=function(){var n,o;for(u&&(n=s.domain)&&n.exit();t;){o=t.fn,t=t.next;try{o()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(u)r=function(){s.nextTick(c)};else if(!i||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var p=a.resolve(void 0);r=function(){p.then(c)}}else r=function(){o.call(n,c)};else{var l=!0,f=document.createTextNode("");new i(c).observe(f,{characterData:!0}),r=function(){f.data=l=!l}}return function(n){var o={fn:n,next:void 0};e&&(e.next=o),t||(t=o,r()),e=o}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,r){var n=r(0).navigator;t.exports=n&&n.userAgent||""},function(t,e,r){var n=r(8),o=r(13),i=r(52);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var r=i.f(t);return(0,r.resolve)(e),r.promise}},function(t,e,r){var n=r(24);t.exports=function(t,e,r){for(var o in e)n(t,o,e[o],r);return t}},function(t,e,r){"use strict";var n=r(0),o=r(7),i=r(9),s=r(1)("species");t.exports=function(t){var e=n[t];i&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,r){var n=r(1)("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var i=[7],s=i[n]();s.next=function(){return{done:r=!0}},i[n]=function(){return s},t(i)}catch(t){}return r}},function(t,e){!function(e){"use strict";var r,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",c="object"==typeof t,p=e.regeneratorRuntime;if(p)c&&(t.exports=p);else{(p=e.regeneratorRuntime=c?t.exports:{}).wrap=w;var l="suspendedStart",f="suspendedYield",h="executing",d="completed",y={},m={};m[s]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==n&&o.call(g,s)&&(m=g);var b=_.prototype=S.prototype=Object.create(m);O.prototype=b.constructor=_,_.constructor=O,_[u]=O.displayName="GeneratorFunction",p.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===O||"GeneratorFunction"===(e.displayName||e.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(b),t},p.awrap=function(t){return{__await:t}},A(j.prototype),j.prototype[a]=function(){return this},p.AsyncIterator=j,p.async=function(t,e,r,n){var o=new j(w(t,e,r,n));return p.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},A(b),b[u]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},p.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=C,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return a.type="throw",a.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var u=o.call(s,"catchLoc"),c=o.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),y}}}function w(t,e,r,n){var o=e&&e.prototype instanceof S?e:S,i=Object.create(o.prototype),s=new k(n||[]);return i._invoke=function(t,e,r){var n=l;return function(o,i){if(n===h)throw new Error("Generator is already running");if(n===d){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=E(s,r);if(a){if(a===y)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=x(t,e,r);if("normal"===u.type){if(n=r.done?d:f,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,s),i}function x(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function S(){}function O(){}function _(){}function A(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function j(t){var e;this._invoke=function(r,n){function i(){return new Promise(function(e,i){!function e(r,n,i,s){var a=x(t[r],t,n);if("throw"!==a.type){var u=a.arg,c=u.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,i,s)},function(t){e("throw",t,i,s)}):Promise.resolve(c).then(function(t){u.value=t,i(u)},function(t){return e("throw",t,i,s)})}s(a.arg)}(r,n,e,i)})}return e=e?e.then(i,i):i()}}function E(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,E(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=x(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,y;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,y):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function C(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:r,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e,r){r(53)("asyncIterator")},function(t,e,r){"use strict";var n=r(0),o=r(14),i=r(9),s=r(29),a=r(24),u=r(92).KEY,c=r(23),p=r(36),l=r(31),f=r(22),h=r(1),d=r(54),y=r(53),m=r(93),v=r(96),g=r(8),b=r(13),w=r(18),x=r(38),S=r(30),O=r(58),_=r(98),A=r(99),j=r(7),E=r(32),L=A.f,T=j.f,k=_.f,C=n.Symbol,P=n.JSON,N=P&&P.stringify,R=h("_hidden"),G=h("toPrimitive"),U={}.propertyIsEnumerable,V=p("symbol-registry"),F=p("symbols"),I=p("op-symbols"),B=Object.prototype,D="function"==typeof C,M=n.QObject,q=!M||!M.prototype||!M.prototype.findChild,z=i&&c(function(){return 7!=O(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=L(B,e);n&&delete B[e],T(t,e,r),n&&t!==B&&T(B,e,n)}:T,W=function(t){var e=F[t]=O(C.prototype);return e._k=t,e},H=D&&"symbol"==typeof C.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof C},J=function(t,e,r){return t===B&&J(I,e,r),g(t),e=x(e,!0),g(r),o(F,e)?(r.enumerable?(o(t,R)&&t[R][e]&&(t[R][e]=!1),r=O(r,{enumerable:S(0,!1)})):(o(t,R)||T(t,R,S(1,{})),t[R][e]=!0),z(t,e,r)):T(t,e,r)},X=function(t,e){g(t);for(var r,n=m(e=w(e)),o=0,i=n.length;i>o;)J(t,r=n[o++],e[r]);return t},$=function(t){var e=U.call(this,t=x(t,!0));return!(this===B&&o(F,t)&&!o(I,t))&&(!(e||!o(this,t)||!o(F,t)||o(this,R)&&this[R][t])||e)},Y=function(t,e){if(t=w(t),e=x(e,!0),t!==B||!o(F,e)||o(I,e)){var r=L(t,e);return!r||!o(F,e)||o(t,R)&&t[R][e]||(r.enumerable=!0),r}},K=function(t){for(var e,r=k(w(t)),n=[],i=0;r.length>i;)o(F,e=r[i++])||e==R||e==u||n.push(e);return n},Z=function(t){for(var e,r=t===B,n=k(r?I:w(t)),i=[],s=0;n.length>s;)!o(F,e=n[s++])||r&&!o(B,e)||i.push(F[e]);return i};D||(a((C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(r){this===B&&e.call(I,r),o(this,R)&&o(this[R],t)&&(this[R][t]=!1),z(this,t,S(1,r))};return i&&q&&z(B,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",function(){return this._k}),A.f=Y,j.f=J,r(59).f=_.f=K,r(43).f=$,r(57).f=Z,i&&!r(20)&&a(B,"propertyIsEnumerable",$,!0),d.f=function(t){return W(h(t))}),s(s.G+s.W+s.F*!D,{Symbol:C});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)h(Q[tt++]);for(var et=E(h.store),rt=0;et.length>rt;)y(et[rt++]);s(s.S+s.F*!D,"Symbol",{for:function(t){return o(V,t+="")?V[t]:V[t]=C(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var e in V)if(V[e]===t)return e},useSetter:function(){q=!0},useSimple:function(){q=!1}}),s(s.S+s.F*!D,"Object",{create:function(t,e){return void 0===e?O(t):X(O(t),e)},defineProperty:J,defineProperties:X,getOwnPropertyDescriptor:Y,getOwnPropertyNames:K,getOwnPropertySymbols:Z}),P&&s(s.S+s.F*(!D||c(function(){var t=C();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,r,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=e=n[1],(b(e)||void 0!==t)&&!H(t))return v(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!H(e))return e}),n[1]=e,N.apply(P,n)}}),C.prototype[G]||r(12)(C.prototype,G,C.prototype.valueOf),l(C,"Symbol"),l(Math,"Math",!0),l(n.JSON,"JSON",!0)},function(t,e,r){var n=r(22)("meta"),o=r(13),i=r(14),s=r(7).f,a=0,u=Object.isExtensible||function(){return!0},c=!r(23)(function(){return u(Object.preventExtensions({}))}),p=function(t){s(t,n,{value:{i:"O"+ ++a,w:{}}})},l=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,n)){if(!u(t))return"F";if(!e)return"E";p(t)}return t[n].i},getWeak:function(t,e){if(!i(t,n)){if(!u(t))return!0;if(!e)return!1;p(t)}return t[n].w},onFreeze:function(t){return c&&l.NEED&&u(t)&&!i(t,n)&&p(t),t}}},function(t,e,r){var n=r(32),o=r(57),i=r(43);t.exports=function(t){var e=n(t),r=o.f;if(r)for(var s,a=r(t),u=i.f,c=0;a.length>c;)u.call(t,s=a[c++])&&e.push(s);return e}},function(t,e,r){var n=r(21);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,r){var n=r(39),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=n(t))<0?o(t+e,0):i(t,e)}},function(t,e,r){var n=r(21);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){var n=r(7),o=r(8),i=r(32);t.exports=r(9)?Object.defineProperties:function(t,e){o(t);for(var r,s=i(e),a=s.length,u=0;a>u;)n.f(t,r=s[u++],e[r]);return t}},function(t,e,r){var n=r(18),o=r(59).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return s.slice()}}(t):o(n(t))}},function(t,e,r){var n=r(43),o=r(30),i=r(18),s=r(38),a=r(14),u=r(48),c=Object.getOwnPropertyDescriptor;e.f=r(9)?c:function(t,e){if(t=i(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(a(t,e))return o(!n.f.call(t,e),t[e])}},function(t,e,r){var n=r(1)("unscopables"),o=Array.prototype;null==o[n]&&r(12)(o,n,{}),t.exports=function(t){o[n][t]=!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){"use strict";var n=r(58),o=r(30),i=r(31),s={};r(12)(s,r(1)("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=n(s,{next:o(1,r)}),i(t,e+" Iterator")}},function(t,e,r){var n=r(14),o=r(104),i=r(41)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),n(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,r){var n=r(40);t.exports=function(t){return Object(n(t))}},function(t,e,r){"use strict";var n=r(29),o=r(56)(!1),i=[].indexOf,s=!!i&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(s||!r(106)(i)),"Array",{indexOf:function(t){return s?i.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,e,r){"use strict";var n=r(23);t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,r){var n=r(7).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||r(9)&&n(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},function(t,e,r){(function(t,n){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,c=36,p=1,l=26,f=38,h=700,d=72,y=128,m="-",v=/^xn--/,g=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=c-p,S=Math.floor,O=String.fromCharCode;function _(t){throw new RangeError(w[t])}function A(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function j(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+A((t=t.replace(b,".")).split("."),e).join(".")}function E(t){for(var e,r,n=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(r=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--):n.push(e);return n}function L(t){return A(t,function(t){var e="";return t>65535&&(e+=O((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=O(t)}).join("")}function T(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function k(t,e,r){var n=0;for(t=r?S(t/h):t>>1,t+=S(t/e);t>x*l>>1;n+=c)t=S(t/x);return S(n+(x+1)*t/(t+f))}function C(t){var e,r,n,o,i,s,a,f,h,v,g,b=[],w=t.length,x=0,O=y,A=d;for((r=t.lastIndexOf(m))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&_("not-basic"),b.push(t.charCodeAt(n));for(o=r>0?r+1:0;o<w;){for(i=x,s=1,a=c;o>=w&&_("invalid-input"),((f=(g=t.charCodeAt(o++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:c)>=c||f>S((u-x)/s))&&_("overflow"),x+=f*s,!(f<(h=a<=A?p:a>=A+l?l:a-A));a+=c)s>S(u/(v=c-h))&&_("overflow"),s*=v;A=k(x-i,e=b.length+1,0==i),S(x/e)>u-O&&_("overflow"),O+=S(x/e),x%=e,b.splice(x++,0,O)}return L(b)}function P(t){var e,r,n,o,i,s,a,f,h,v,g,b,w,x,A,j=[];for(b=(t=E(t)).length,e=y,r=0,i=d,s=0;s<b;++s)(g=t[s])<128&&j.push(O(g));for(n=o=j.length,o&&j.push(m);n<b;){for(a=u,s=0;s<b;++s)(g=t[s])>=e&&g<a&&(a=g);for(a-e>S((u-r)/(w=n+1))&&_("overflow"),r+=(a-e)*w,e=a,s=0;s<b;++s)if((g=t[s])<e&&++r>u&&_("overflow"),g==e){for(f=r,h=c;!(f<(v=h<=i?p:h>=i+l?l:h-i));h+=c)A=f-v,x=c-v,j.push(O(T(v+A%x,0))),f=S(A/x);j.push(O(T(f,0))),i=k(r,w,n==o),r=0,++n}++r,++e}return j.join("")}a={version:"1.4.1",ucs2:{decode:E,encode:L},decode:C,encode:P,toASCII:function(t){return j(t,function(t){return g.test(t)?"xn--"+P(t):t})},toUnicode:function(t){return j(t,function(t){return v.test(t)?C(t.slice(4).toLowerCase()):t})}},void 0===(o=function(){return a}.call(e,r,e,t))||(t.exports=o)}()}).call(this,r(109)(t),r(65))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";e.decode=e.parse=r(112),e.encode=e.stringify=r(113)},function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,i){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var p=0;p<c;++p){var l,f,h,d,y=t[p].replace(a,"%20"),m=y.indexOf(r);m>=0?(l=y.substr(0,m),f=y.substr(m+1)):(l=y,f=""),h=decodeURIComponent(l),d=decodeURIComponent(f),n(s,h)?o(s[h])?s[h].push(d):s[h]=[s[h],d]:s[h]=d}return s};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?i(s(t),function(s){var a=encodeURIComponent(n(s))+r;return o(t[s])?i(t[s],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[s]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";var n=r(115)(!0);r(62)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},function(t,e,r){var n=r(39),o=r(40);t.exports=function(t){return function(e,r){var i,s,a=String(o(e)),u=n(r),c=a.length;return u<0||u>=c?t?"":void 0:(i=a.charCodeAt(u))<55296||i>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):i:t?a.slice(u,u+2):s-56320+(i-55296<<10)+65536}}},function(t,e,r){"use strict";(function(e){var n=r(33),o=r(117),i=r(118).EventEmitter,s=r(6),a=new l;function u(t){var e=this;e.socket=o.createSocket("udp4"),e.socket.on("error",function(t){console.log("############### Got an error!"),console.trace(t)}),e.socket.on("message",function(t,r){var n=t.toString().split("\r\n");n[0].match(/HTTP\/(\d{1})\.(\d{1}) (\d+) (.*)/)&&e.emit("response",function(t){var e,r,n,o,i,s={};for(i=0,t.length;i<t.length;i++)e=t[i],(r=e.indexOf(":"))>0&&r<e.length&&(n=e.substring(0,r).toLowerCase(),o=e.substring(r+1,e.length).trim(),s[n]=o);return s}(n.slice(1)))}),a.add(e),a.registerExitListener()}function c(t){t.closed||(t.closed=!0,t.socket.close()),a.remove(t)}function p(t,e){var r,n,o=!1;for(r=0,n=t.length;r<n&&!(o=t[r]===e);r++);o||t.push(e)}function l(){this._searches=[],this._registered=!1}t.exports.locateBridges=function(t){var e=n.defer(),r=new u(t),o=[];return r.on("response",function(t){o.push(t)}),r.search(),setTimeout(function(){var t;c(r),e.resolve((t={},o.forEach(function(e){t[e.location]?t[e.location]=function(t,e){var r,n,o={};for(r in t)o[r]=t[r];for(r in e)o[r]!==e[r]&&(s.isArray(o[r])?p(o[r],e[r]):((n=[]).push(o[r]),n.push(e[r]),o[r]=n));return o}(t[e.location],e):t[e.location]=e}),t))},t||5e3),e.promise},u.prototype.__proto__=i.prototype,u.prototype.search=function(){var t,e,r="239.255.255.250",n=new Buffer((t={HOST:r+":1900",MAN:"ssdp:discover",MX:10,ST:"urn:schemas-upnp-org:device:Basic:1"},e="M-SEARCH * HTTP/1.1\r\n",Object.keys(t).forEach(function(r){e+=r+": "+t[r]+"\r\n"}),e+"\r\n"));this.socket.send(n,0,n.length,1900,r)},l.prototype.add=function(t){this._searches.push(t)},l.prototype.remove=function(t){var e=this._searches,r=e.indexOf(t);r>-1&&e.splice(r,1)},l.prototype.finished=function(){this._searches.forEach(function(t){c(t)})},l.prototype.registerExitListener=function(){this._registered||(e.on("exit",this.finished.bind(this)),this._registered=!0)}}).call(this,r(34))},function(t,e){log.i("Using dgram empty shim")},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function i(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,s,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var p=new Error('Uncaught, unspecified "error" event. ('+e+")");throw p.context=e,p}if(i(r=this._events[t]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(o(r))for(a=Array.prototype.slice.call(arguments,1),s=(c=r.slice()).length,u=0;u<s;u++)c[u].apply(this,a);return!0},r.prototype.addListener=function(t,e){var s;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(s=i(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){if(!n(e))throw TypeError("listener must be a function");var r=!1;function o(){this.removeListener(t,o),r||(r=!0,e.apply(this,arguments))}return o.listener=e,this.on(t,o),this},r.prototype.removeListener=function(t,e){var r,i,s,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(r=this._events[t]).length,i=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(r)){for(a=s;a-- >0;)if(r[a]===e||r[a].listener&&r[a].listener===e){i=a;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[t]))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){t.exports=r(122)},function(t,e,r){"use strict";var n=r(4),o=r(67),i=r(123),s=r(44);function a(t){var e=new i(t),r=o(i.prototype.request,e);return n.extend(r,i.prototype,e),n.extend(r,e),r}var u=a(s);u.Axios=i,u.create=function(t){return a(n.merge(s,t))},u.Cancel=r(70),u.CancelToken=r(137),u.isCancel=r(69),u.all=function(t){return Promise.all(t)},u.spread=r(138),t.exports=u,t.exports.default=u},function(t,e,r){"use strict";var n=r(44),o=r(4),i=r(132),s=r(133),a=r(135),u=r(136);function c(t){this.defaults=t,this.interceptors={request:new i,response:new i}}c.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(n,this.defaults,{method:"get"},t)).baseURL&&!a(t.url)&&(t.url=u(t.baseURL,t.url));var e=[s,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},o.forEach(["delete","get","head"],function(t){c.prototype[t]=function(e,r){return this.request(o.merge(r||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){c.prototype[t]=function(e,r,n){return this.request(o.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=c},function(t,e,r){"use strict";var n=r(4);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},function(t,e,r){"use strict";var n=r(68);t.exports=function(t,e,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r)):t(r)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n){return t.config=e,r&&(t.code=r),t.response=n,t}},function(t,e,r){"use strict";var n=r(4);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var i;if(r)i=r(e);else if(n.isURLSearchParams(e))i=e.toString();else{var s=[];n.forEach(e,function(t,e){null!=t&&(n.isArray(t)&&(e+="[]"),n.isArray(t)||(t=[t]),n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),s.push(o(e)+"="+o(t))}))}),i=s.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,r){"use strict";var n=r(4);t.exports=function(t){var e,r,o,i={};return t?(n.forEach(t.split("\n"),function(t){o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e&&(i[e]=i[e]?i[e]+", "+r:r)}),i):i}},function(t,e,r){"use strict";var n=r(4);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=o(window.location.href),function(e){var r=n.isString(e)?o(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(t,e,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,r,i=String(t),s="",a=0,u=n;i.charAt(0|a)||(u="=",a%1);s+=u.charAt(63&e>>8-a%1*8)){if((r=i.charCodeAt(a+=.75))>255)throw new o;e=e<<8|r}return s}},function(t,e,r){"use strict";var n=r(4);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,o,i,s){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";var n=r(4);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=o},function(t,e,r){"use strict";var n=r(4),o=r(134),i=r(69),s=r(44);function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return a(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return a(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(a(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,r){"use strict";var n=r(4);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";t.exports=function(t,e){return t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,"")}},function(t,e,r){"use strict";var n=r(70);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new n(t),e(r.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},t.exports=o},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,r){"use strict";var n=r(6),o=r(2).Trait,i=r(10),s=r(11),a=r(15),u={};function c(t){return{id:t.id,name:t.name,ipaddress:t.internalipaddress,mac:t.macaddress}}u.description=o.compose(i("/description.xml","GET","1.0","All","application/xml"),s("Returns an XML description of the Hue Bridge.")),u.upnpLookup=o.compose(i("/api/nupnp","GET","1.0","All"),s("Obtains the known Hue Bridges on the network from www.meethue.com"),a(function(t){var e=[];n.isArray(t)?t.forEach(function(t){e.push(c(t))}):e.push(c(t));return e})),t.exports={description:o.create(Object.prototype,u.description),upnpLookup:o.create(Object.prototype,u.upnpLookup)}},function(t,e){t.exports=window.xml2js},function(t,e,r){"use strict";var n=r(33),o=r(19),i=r(66),s=r(3).ApiError,a=r(5),u=r(142),c=r(143),p=r(144),l=r(146),f=r(148),h=r(149),d=r(150),y=r(71),m=r(63),v=r(72),g=r(73);function b(t){this._config=t}function w(t,e){var r=null;return!function(t){return parseInt(t,10)>0}(e)?r=j("The light id '"+e+"' is not valid for this Hue Bridge."):t.id=e,r}function x(t,e){var r=null;return!function(t){return parseInt(t,10)>0}(e)?r=j("The sensor id '"+e+"' is not valid for this Hue Bridge."):t.id=e,r}function S(t,e){var r=null;return E(e)?t.id=e:r=j("The group id '"+e+"' is not valid for this Hue Bridge."),r}function O(t,e){var r=null;return!function(t){if(E(t))return parseInt(t,10)>0;return!1}(e)?r=j("The group id '"+e+"' cannot be modified on this Hue Bridge."):t.id=e,r}function _(t,e){var r=null;return!function(t){return parseInt(t,10)>=0&&t<=100}(e)?r=j("The schedule id '"+e+"' is not valid for this Hue Bridge."):t.id=e,r}function A(t,e){var r,n=null;return(r=e)&&String(r).length>0?t.id=e:n=j("The scene id '"+e+"' is not valid for this Hue Bridge."),n}function j(t){var e=n.defer();return e.reject(new s(t)),e.promise}function E(t){return parseInt(t,10)>=0&&t<=64}t.exports=function(t,e,r,n){return new b({hostname:t,username:e,timeout:r||1e4,port:n||80})},b.prototype.getVersion=function(t){var e=this.config().then(function(t){return{name:t.name,version:{api:t.apiversion,software:t.swversion}}});return a.promiseOrCallback(e,t)},b.prototype.version=b.prototype.getVersion,b.prototype.description=function(t){var e=m.description(this._config.hostname);return a.promiseOrCallback(e,t)},b.prototype.getDescription=b.prototype.description,b.prototype.config=function(t){var e=this._defaultOptions(),r=i.invoke(h.getConfiguration,e);return a.promiseOrCallback(r,t)},b.prototype.getConfig=b.prototype.config,b.prototype.getFullState=function(t){var e=this._defaultOptions(),r=i.invoke(h.getFullState,e);return a.promiseOrCallback(r,t)},b.prototype.fullState=b.prototype.getFullState,b.prototype.registerUser=function(t,e,r){var n,o={host:t,values:{}};return a.isFunction(e)?(o.values.devicetype="Node.js API",r=e):o.values.devicetype=e||"Node.js API",n=i.invoke(h.createUser,o),a.promiseOrCallback(n,r)},b.prototype.createUser=b.prototype.registerUser,b.prototype.pressLinkButton=function(t){var e,r=this._defaultOptions();return(e=function(t,e){var r=null,n=!1;Object.keys(h.modifyConfiguration.bodyArguments).forEach(function(t){var o=h.modifyConfiguration.bodyArguments[t];!n&&e[t]&&(n=!0),o.optional||r||e[t]||(r=j("A required configuration option '"+t+"' was not provided."))}),r||(n?t.values=e:r=j("No valid options for the bridge configuration were specified."));return r}(r,{linkbutton:!0}))||(e=i.invoke(h.modifyConfiguration,r)),a.promiseOrCallback(e,t)},b.prototype.deleteUser=function(t,e){var r,n=this._defaultOptions();return(r=function(t,e){var r=null;e||(r=j("A username to delete must be specified."));return t.username2=e,r}(n,t))||(r=i.invoke(h.deleteUser,n)),a.promiseOrCallback(r,e)},b.prototype.unregisterUser=b.prototype.deleteUser,b.prototype.registeredUsers=function(t){var e=this.config().then(function(t){var e=t.whitelist,r=[];return e&&Object.keys(e).forEach(function(t){var n;e.hasOwnProperty(t)&&(n=e[t],r.push({name:n.name,username:t,created:n["create date"],accessed:n["last use date"]}))}),{devices:r}});return a.promiseOrCallback(e,t)},b.prototype.getRegisteredUsers=b.prototype.registeredUsers,b.prototype.sensors=function(t){var e,r=this._defaultOptions();return e=i.invoke(c.getAllSensors,r),a.promiseOrCallback(e,t)},b.prototype.getSensors=b.prototype.sensors,b.prototype.lights=function(t){var e,r=this._defaultOptions();return e=i.invoke(u.getAllLights,r),a.promiseOrCallback(e,t)},b.prototype.getLights=b.prototype.lights,b.prototype.lightStatus=function(t,e){var r,n=this._defaultOptions();return(r=w(n,t))||(r=i.invoke(u.getLightAttributesAndState,n)),a.promiseOrCallback(r,e)},b.prototype.getLightStatus=b.prototype.lightStatus,b.prototype.lightStatusWithRGB=function(t,e){var r=this.lightStatus(t);return r=r.then(function(t){var e=t.state,r=e.xy[0],n=e.xy[1],i=e.bri/254;return o({state:{rgb:g.convertXYtoRGB(r,n,i)}},t)}),a.promiseOrCallback(r,e)},b.prototype.getLightStatusWithRGB=b.prototype.lightStatusWithRGB,b.prototype.newLights=function(t){var e=this._defaultOptions(),r=i.invoke(u.getNewLights,e);return a.promiseOrCallback(r,t)},b.prototype.getNewLights=b.prototype.newLights,b.prototype.searchForNewLights=function(t){var e=this._defaultOptions(),r=i.invoke(u.searchForNewLights,e);return a.promiseOrCallback(r,t)},b.prototype.setLightName=function(t,e,r){var n,o=this._defaultOptions();return n=w(o,t),o.values={name:e},n||(n=i.invoke(u.renameLight,o)),a.promiseOrCallback(n,r)},b.prototype.setLightState=function(t,e,r){var n=this._getLightStateOptions(t,e).then(function(t){return i.invoke(u.setLightState,t)});return a.promiseOrCallback(n,r)},b.prototype.setGroupLightState=function(t,e,r){var n=this._getGroupLightStateOptions(t,e).then(function(t){return i.invoke(p.setGroupState,t)});return a.promiseOrCallback(n,r)},b.prototype.sensors=function(t){var e,r=this._defaultOptions();return e=i.invoke(c.getAllSensors,r),a.promiseOrCallback(e,t)},b.prototype.getSensors=b.prototype.sensors,b.prototype.sensorStatus=function(t,e){var r,n=this._defaultOptions();return(r=x(n,t))||(r=i.invoke(c.getSensorAttributesAndState,n)),a.promiseOrCallback(r,e)},b.prototype.getSensorStatus=b.prototype.sensorStatus,b.prototype.setSensorName=function(t,e,r){var n,o=this._defaultOptions();return n=x(o,t),o.values={name:e},n||(n=i.invoke(c.renameSensor,o)),a.promiseOrCallback(n,r)},b.prototype.groups=function(t){var e=this._defaultOptions(),r=i.invoke(p.getAllGroups,e);return a.promiseOrCallback(r,t)},b.prototype.getGroups=b.prototype.groups,b.prototype.getAllGroups=b.prototype.groups,b.prototype.luminaires=function(t){var e=this._filterGroups("Luminaire");return a.promiseOrCallback(e,t)},b.prototype.getLuminaires=b.prototype.luminaires,b.prototype.lightSources=function(t){var e=this._filterGroups("Lightsource");return a.promiseOrCallback(e,t)},b.prototype.getLightSources=b.prototype.lightSources,b.prototype.lightGroups=function(t){var e=this._filterGroups("LightGroup");return a.promiseOrCallback(e,t)},b.prototype.getLightGroups=b.prototype.lightGroups,b.prototype.getGroup=function(t,e){var r,n=this._defaultOptions();return(r=S(n,t))||(r=i.invoke(p.getGroupAttributes,n).then(function(e){var r={id:String(t),name:e.name,type:e.type,lights:e.lights,lastAction:e.action};return"Luminaire"===e.type&&e.modelid&&(r.modelid=e.modelid),r})),a.promiseOrCallback(r,e)},b.prototype.group=b.prototype.getGroup,b.prototype.updateGroup=function(t,e,r,n){var o,s=this._defaultOptions(),u=[].slice.call(arguments,1);return s.values={},o=O(s,t),u.forEach(function(t){t instanceof Function?n=t:Array.isArray(t)?s.values.lights=a.createStringValueArray(t):null==t||(s.values.name=t)}),o||s.values.lights||s.values.name||(o=j("A name or array of lightIds must be provided")),o||(o=i.invoke(p.setGroupAttributes,s)),a.promiseOrCallback(o,n)},b.prototype.createGroup=function(t,e,r){var n,o=this._defaultOptions();return o.values={name:t,lights:a.createStringValueArray(e)},n=i.invoke(p.createGroup,o),a.promiseOrCallback(n,r)},b.prototype.deleteGroup=function(t,e){var r=this._defaultOptions(),n=O(r,t);return n||(n=i.invoke(p.deleteGroup,r)),a.promiseOrCallback(n,e)},b.prototype.schedules=function(t){var e=this._defaultOptions(),r=i.invoke(l.getAllSchedules,e);return a.promiseOrCallback(r,t)},b.prototype.getSchedules=b.prototype.schedules,b.prototype.getSchedule=function(t,e){var r=this._defaultOptions(),n=_(r,t);return n||(n=i.invoke(l.getSchedule,r).then(function(e){return e.id=t,e})),a.promiseOrCallback(n,e)},b.prototype.schedule=b.prototype.getSchedule,b.prototype.scheduleEvent=function(t,e){return this._createSchedule(t,e)},b.prototype.createSchedule=b.prototype.scheduleEvent,b.prototype.deleteSchedule=function(t,e){var r=this._defaultOptions(),n=_(r,t);return n||(n=i.invoke(l.deleteSchedule,r)),a.promiseOrCallback(n,e)},b.prototype.updateSchedule=function(t,e,r){var n,o=this._defaultOptions();return(n=_(o,t))||(n=function(t,e){var r=null,n=!1;Object.keys(l.setScheduleAttributes.bodyArguments).forEach(function(t){e[t]&&(n=!0)}),n?t.values=y.create(e):r=j("No valid values for updating the schedule were found in the schedule details provided.");return r}(o,e)),n||(n=i.invoke(l.setScheduleAttributes,o)),a.promiseOrCallback(n,r)},b.prototype.scenes=function(t){var e=this._scenes().then(function(t){var e=[];return Object.keys(t).forEach(function(r){var n=t[r],i=o({},n);i.id=r,e.push(i)}),e});return a.promiseOrCallback(e,t)},b.prototype.getScenes=b.prototype.scenes,b.prototype.scene=function(t,e){var r=this._defaultOptions(),n=A(r,t);return n||(n=i.invoke(f.getScene,r).then(function(e){return e.id=t,e})),a.promiseOrCallback(n,e)},b.prototype.getScene=b.prototype.scene,b.prototype.deleteScene=function(t,e){var r=this._defaultOptions(),n=A(r,t);return n||(n=i.invoke(f.deleteScene,r)),a.promiseOrCallback(n,e)},b.prototype.createScene=function(t,e){return Array.isArray(arguments[0])?this.createBasicScene(arguments[0],arguments[1],arguments[2]):this.createAdvancedScene(arguments[0],arguments[1])},b.prototype.createBasicScene=function(t,e,r){var n,o=this._defaultOptions();return o.values={name:e,lights:a.createStringValueArray(t),recycle:!1},n=i.invoke(f.createScene,o),a.promiseOrCallback(n,r)},b.prototype.createAdvancedScene=function(t,e){var r,n=this._defaultOptions(),s=o({recycle:!1},t);return n.values=s,r=i.invoke(f.createScene,n),a.promiseOrCallback(r,e)},b.prototype.updateScene=function(t,e,r,n){var o=this._defaultOptions(),s=!!r,u=A(o,t);return u||(a.isFunction(r)&&(n=r,s=!1),o.values={},s&&(o.values.storelightstate=!0),e&&(e.lights&&(o.values.lights=a.createStringValueArray(e.lights)),e.name&&(o.values.name=e.name)),u=i.invoke(f.modifyScene,o)),a.promiseOrCallback(u,n)},b.prototype.modifyScene=b.prototype.updateScene,b.prototype.setSceneLightState=function(t,e,r,n){var o;return o=this._getLightStateOptions(e,r).then(function(e){return e.lightId=e.id,e.id=t,i.invoke(f.modifyLightState,e)}),a.promiseOrCallback(o,n)},b.prototype.updateSceneLightState=b.prototype.setSceneLightState,b.prototype.modifySceneLightState=b.prototype.setSceneLightState,b.prototype.activateScene=function(t,e,r){var n;a.isFunction(e)&&(r=e,e=null);try{e=Number(e,10),isNaN(e)&&(e=0)}catch(t){e=0}return n=this.setGroupLightState(e,{scene:t}),a.promiseOrCallback(n,r)},b.prototype.recallScene=b.prototype.activateScene,b.prototype.getTimezones=function(t){var e=this._defaultOptions(),r=i.invoke(d.getAllTimezones,e);return a.promiseOrCallback(r,t)},b.prototype.timezones=b.prototype.getTimezones,b.prototype._getConfig=function(){return this._config},b.prototype._defaultOptions=function(){var t=this._getConfig();return{host:t.hostname,username:t.username,timeout:t.timeout,port:t.port}},b.prototype._filterGroups=function(t){return this.groups().then(function(e){var r=[];return e&&e.forEach(function(e){e.type===t&&r.push(e)}),r})},b.prototype._scenes=function(){var t=this._defaultOptions();return i.invoke(f.getAllScenes,t)},b.prototype._getGroupLightsByType=function(t){return n.all([this.getGroup(t),this.getLights()]).spread(function(t,e){var r={},n=function(t){var e={};Array.isArray(t)&&t.forEach(function(t){e[t.id]=t.modelid});return e}(e);return t&&t.lights&&t.lights.forEach(function(t){var e=n[t];r[e]?r[e].push(t):r[e]=[t]}),r})},b.prototype._getGroupLightStateOptions=function(t,e){var r,o,i,a=this._defaultOptions();return(i=S(a,t))||((r=v.isLightState(e)?e:v.create(e)).hasRGB()?((o=n.defer()).reject(new s("RGB state is not supported for groups yet")),i=o.promise):(a.values=r.payload(),(o=n.defer()).resolve(a),i=o.promise)),i},b.prototype._getLightStateOptions=function(t,e){var r,o,i,s=this._defaultOptions();return(i=w(s,t))||((o=v.isLightState(e)?e:v.create(e)).hasRGB()?i=this.lightStatus(t).then(function(t){return o=o.applyRGB(t.modelid),s.values=o.payload(),s}):(s.values=o.payload(),(r=n.defer()).resolve(s),i=r.promise)),i},b.prototype._createSchedule=function(t,e){var r=this._defaultOptions(),n=function(t,e){var r=null;Object.keys(l.createSchedule.bodyArguments).forEach(function(t){l.createSchedule.bodyArguments[t].optional||r||e[t]||(r=j("A required schedule option '"+t+"' was not provided."))}),r||(t.values=y.create(e));return r}(r,t);return n||(n=i.invoke(l.createSchedule,r)),a.promiseOrCallback(n,e)}},function(t,e,r){"use strict";var n=r(2).Trait,o=r(19),i=r(10),s=r(11),a=r(16),u=r(26),c=r(15),p=r(3).ApiError,l=r(5),f={};f.getAllLights=n.compose(i("/api/<username>/lights","GET","1.0","Whitelist"),s("Gets a list of all lights that have been discovered by the bridge."),c(function(t){var e=[];return t&&Object.keys(t).forEach(function(r){e.push(o({id:r},t[r]))}),{lights:e}})),f.getNewLights=n.compose(i("/api/<username>/lights/new","GET","1.0","Whitelist"),s("Gets a list of lights that were discovered the last time a search for new lights was performed. The list of new lights is always deleted when a new search is started.")),f.searchForNewLights=n.compose(i("/api/<username>/lights","POST","1.0","Whitelist"),s("Starts a search for new lights. The bridge will search for 1 minute and will add a maximum of 15 new lights.To add further lights, the command needs to be sent again after the search has completed.If a search is already active, it will be aborted and a new search will start.When the search has finished, new lights will be available using the get new lights command.In addition, the new lights will now be available by calling get all lights or by calling get group attributes on group 0. Group 0 is a special group that cannot be deleted and will always contain all lights known by the bridge."),c(l.wasSuccessful)),f.getLightAttributesAndState=n.compose(i("/api/<username>/lights/<id>","GET","1.0","Whitelist"),s("Gets the attributes and state of a given light.")),f.setLightAttributes=n.compose(i("/api/<username>/lights/<id>","PUT","1.0","Whitelist"),s("Used to rename lights. A light can have its name changed when in any state, including when it is unreachable or off."),a("application/json",[{name:"name",type:"string",maxLength:32,optional:!1}]),c(l.wasSuccessful)),f.setLightState=n.compose(i("/api/<username>/lights/<id>/state","PUT","1.0","Whitelist"),s("Allows the user to turn the light on and off, modify the hue and effects."),u(!0),c(function(t){if(!l.wasSuccessful(t))throw new p(l.parseErrors(t).join(", "));return!0})),t.exports={getAllLights:n.create(Object.prototype,f.getAllLights),getNewLights:n.create(Object.prototype,f.getNewLights),searchForNewLights:n.create(Object.prototype,f.searchForNewLights),getLightAttributesAndState:n.create(Object.prototype,f.getLightAttributesAndState),renameLight:n.create(Object.prototype,f.setLightAttributes),setLightState:n.create(Object.prototype,f.setLightState)}},function(t,e,r){"use strict";var n=r(2).Trait,o=r(19),i=r(10),s=r(11),a=r(16),u=(r(26),r(15)),c=r(5),p={};p.getAllSensors=n.compose(i("/api/<username>/sensors","GET","1.3","Whitelist"),s("Gets a list of all sensors that have been discovered by the bridge."),u(function(t){var e=[];return t&&Object.keys(t).forEach(function(r){e.push(o({id:r},t[r]))}),{sensors:e}})),p.getSensorAttributesAndState=n.compose(i("/api/<username>/sensors/<id>","GET","1.0","Whitelist"),s("Gets the attributes and state of a given sensor.")),p.setSensorAttributes=n.compose(i("/api/<username>/sensors/<id>","PUT","1.0","Whitelist"),s("Used to rename sensor. A sensor can have its name changed when in any state, including when it is unreachable or off."),a("application/json",[{name:"name",type:"string",maxLength:32,optional:!1}]),u(c.wasSuccessful)),t.exports={getAllSensors:n.create(Object.prototype,p.getAllSensors),getSensorAttributesAndState:n.create(Object.prototype,p.getSensorAttributesAndState),renameSensor:n.create(Object.prototype,p.setSensorAttributes)}},function(t,e,r){"use strict";var n=r(2).Trait,o=r(19),i=r(10),s=r(11),a=r(16),u=r(26),c=r(15),p=r(145),l=r(3).ApiError,f=r(5),h="Lightset 0",d={};function y(t){if(!f.wasSuccessful(t))throw new l(f.parseErrors(t).join(", "));return!0}d.getAllGroups=n.compose(i("/api/<username>/groups","GET","1.0","Whitelist"),s("Gets a list of all groups that have been added to the bridge. A group is a list of lights that can be created, modified and deleted by a user. The maximum numbers of groups is 16. N.B. For the first bridge firmware release, bridge software version 01003542 only, a limited number of these APIs are supported in the firmware so only control of groups/0 is supported."),c(function(t){var e=[];return e.push({id:"0",name:h,type:"LightGroup"}),Object.keys(t).forEach(function(r){e.push(o({id:r},t[r]))}),e})),d.getGroupAttributes=n.compose(i("/api/<username>/groups/<id>","GET","1.0","Whitelist"),s("Gets the name, light membership and last command for a given group.")),d.setGroupAttributes=n.compose(i("/api/<username>/groups/<id>","PUT","1.0","Whitelist"),s("Allows the user to modify the name and light membership of a group."),a("application/json",[{name:"name",type:"string",maxLength:32,optional:!0},{name:"lights",type:"list int",optional:!0}]),c(y)),d.setGroupState=n.compose(i("/api/<username>/groups/<id>/action","PUT","1.0","Whitelist"),s("Modifies the state of all lights in a group"),u(!0,!0),c(function(t){if(!f.wasSuccessful(t))throw new l(f.parseErrors(t).join(", "));return!0})),d.createGroup=n.compose(i("/api/<username>/groups","POST","1.0","Whitelist"),s("Creates a new group containing the lights specified and optional name. A new group is created in the bridge with the next available id. Note: For bridges < 1.4 lights must be on, otherwise they won't be saved in the group. For 1.4 there is no such restriction."),a("application/json",[{name:"name",type:"string",maxLength:32,optional:!0},{name:"lights",type:"list int",optional:!1}]),c(function(t){var e;return y(t),{id:e=(e=t[0].success.id).substr(e.lastIndexOf("/")+1)}})),d.deleteGroup=n.compose(i("/api/<username>/groups/<id>","DELETE","1.0","Whitelist"),s("Deletes the specified group from the bridge."),c(y),p({305:"It is not allowed to update or delete group of this type"})),t.exports={getAllGroups:n.create(Object.prototype,d.getAllGroups),getGroupAttributes:n.create(Object.prototype,d.getGroupAttributes),setGroupAttributes:n.create(Object.prototype,d.setGroupAttributes),setGroupState:n.create(Object.prototype,d.setGroupState),createGroup:n.create(Object.prototype,d.createGroup),deleteGroup:n.create(Object.prototype,d.deleteGroup)}},function(t,e,r){"use strict";r(6);var n=r(2).Trait,o=r(3).ApiError;t.exports=function(t){if(!t)throw new o("A status code to error messages object must be provided");return n({statusCodeMap:t})}},function(t,e,r){"use strict";var n=r(2).Trait,o=r(19),i=r(10),s=r(11),a=r(147),u=r(15),c=r(3).ApiError,p=r(5),l={};l.getAllSchedules=n.compose(i("/api/<username>/schedules","GET","1.0","Whitelist"),s("Gets a list of all schedules that have been added to the bridge."),u(function(t){var e=[];return Object.keys(t).forEach(function(r){e.push(o({id:r},t[r]))}),e})),l.createSchedule=n.compose(i("/api/<username>/schedules","POST","1.0","Whitelist"),s("Allows the user to create new schedules. The bridge can store up to 100 schedules."),a(!1),u(function(t){if(!p.wasSuccessful(t))throw new c(p.parseErrors(t).join(", "));return{id:t[0].success.id}})),l.getSchedule=n.compose(i("/api/<username>/schedules/<id>","GET","1.0","Whitelist"),s("Allows the user to change attributes of a schedule.")),l.setScheduleAttributes=n.compose(i("/api/<username>/schedules/<id>","PUT","1.0","Whitelist"),s("Sets attributes for a schedule."),a(!0),u(function(t){var e={};if(!p.wasSuccessful(t))throw new c(p.parseErrors(t).join(", "));return t.forEach(function(t){Object.keys(t.success).forEach(function(t){var r=t.substr(t.lastIndexOf("/")+1,t.length);e[r]=!0})}),e})),l.deleteSchedule=n.compose(i("/api/<username>/schedules/<id>","DELETE","1.0","Whitelist"),s("Deletes a schedule from the bridge."),u(function(t){if(!p.wasSuccessful(t))throw new c(p.parseErrors(t).join(", "));return!0})),t.exports={getAllSchedules:n.create(Object.prototype,l.getAllSchedules),createSchedule:n.create(Object.prototype,l.createSchedule),getSchedule:n.create(Object.prototype,l.getSchedule),setScheduleAttributes:n.create(Object.prototype,l.setScheduleAttributes),deleteSchedule:n.create(Object.prototype,l.deleteSchedule)}},function(t,e,r){"use strict";var n=r(16);t.exports=function(t){return n("application/json",[{name:"name",type:"string",maxLength:32,optional:!0},{name:"description",type:"string",maxLength:64,optional:!0},{name:"command",type:"string",maxLength:90,optional:!!t},{name:"localtime",type:"time",optional:!!t},{name:"status",type:"string",minLength:5,maxlength:16,optional:!0},{name:"autodelete",type:"boolean",optional:!0}])}},function(t,e,r){"use strict";var n=r(2).Trait,o=r(10),i=r(11),s=r(15),a=r(26),u=r(16),c=r(3).ApiError,p=r(5),l={};function f(t){var e={};if(!p.wasSuccessful(t))throw new c(p.parseErrors(t).join(", "));return t.forEach(function(t){Object.keys(t.success).forEach(function(t){var r=t.substr(t.lastIndexOf("/")+1,t.length);e[r]=!0})}),e}l.getAllScenes=n.compose(o("/api/<username>/scenes","GET","1.1","Whitelist"),i("Gets a list of all scenes currently stored in the bridge. Scenes are represented by a scene id, a name and a list of lights which are part of the scene.")),l.createScene=n.compose(o("/api/<username>/scenes","POST","1.11","Whitelist"),i("Creates the given scene with all lights in the provided lights resource. For a given scene the current light settings of the given lights resources are stored. If the scene id is recalled in the future, these light settings will be reproduced on these lamps. If an existing name is used then the settings for this scene will be overwritten and the light states resaved."),u("application/json",[{name:"name",type:"string",optional:!0},{name:"lights",type:"list int",optional:!1},{name:"transitiontime",type:"int",optional:!0},{name:"recycle",type:"boolean",optional:!0},{name:"appdata",type:"object",optional:!0},{name:"picture",type:"hex",optional:!0}]),s(function(t){var e={};if(!p.wasSuccessful(t))throw new c(p.parseErrors(t).join(", "));function r(t){var r=t.success,n=null;Object.keys(r).forEach(function(t){var o=t.substr(t.lastIndexOf("/")+1);e[o]=r[t],n||(n=/scenes\/(.*)\//.exec(t))}),!e.id&&n&&(e.id=n[1])}return Array.isArray(t)?t.forEach(r):r(t),e})),l.getScene=n.compose(o("/api/<username>/scenes/<id>","GET","1.11","Whitelist"),i("Gets the attributes of a given scene. Note that lightstates are displayed when an individual scene is retrieved (but not for all scenes).")),l.deleteScene=n.compose(o("/api/<username>/scenes/<id>","DELETE","1.11","Whitelist"),i("Deletes a scene from the bridge. In bridge versions earlier than 1.11 scenes cannot be deleted from the bridge.")),l.modifyLightState=n.compose(o("/api/<username>/scenes/<id>/lightstates/<lightId>","PUT","1.11","Whitelist"),i("Modifies or creates a new scene. Note that these states are not visible via any API calls, but stored in the lights themselves."),a(),s(f)),l.oldModifyLightState=n.compose(o("/api/<username>/scenes/<id>/lights/<lightId>/state","PUT","1.1.1","Whitelist"),i("Modifies or creates a new scene. Note that these states are not visible via any API calls, but stored in the lights themselves."),a(),s(f)),l.modifyScene=n.compose(o("/api/<username>/scenes/<id>","PUT","1.1.0","Whitelist"),i("Modifies or creates a new scene. Note that these states are not visible via any API calls, but stored in the lights themselves."),u("application/json",[{name:"name",type:"string",optional:!0},{name:"lights",type:"list int",optional:!0},{name:"storelightstate",type:"boolean",optional:!0}]),s(f)),t.exports={getAllScenes:n.create(Object.prototype,l.getAllScenes),createScene:n.create(Object.prototype,l.createScene),modifyLightState:n.create(Object.prototype,l.modifyLightState),modifyScene:n.create(Object.prototype,l.modifyScene),getScene:n.create(Object.prototype,l.getScene),deleteScene:n.create(Object.prototype,l.deleteScene)}},function(t,e,r){"use strict";var n=r(2).Trait,o=r(10),i=r(11),s=r(16),a=r(15),u=r(3).ApiError,c=r(5),p={};p.createUser=n.compose(o("/api","POST","1.0","All"),i("Creates a new user. The link button on the bridge must be pressed and this command executed within 30 seconds."),s("application/json",[{name:"devicetype",type:"string",maxLength:40,optional:!1}]),a(function(t){return t[0].success.username})),p.getConfiguration=n.compose(o("/api/<username>/config","GET","1.0","Whitelist"),i("Returns list of all configuration elements in the bridge. Note all times are stored in UTC.")),p.modifyConfiguration=n.compose(o("/api/<username>/config","PUT","1.0","Whitelist"),i("Allows the user to set some configuration values."),s("application/json",[{name:"proxyport",type:"uint16",optional:!0},{name:"name",type:"string",minLength:4,maxLength:16,optional:!0},{name:"swupdate",type:"object",optional:!0},{name:"proxyaddress",type:"string",maxLength:40,optional:!0},{name:"linkbutton",type:"boolean",optional:!0},{name:"ipaddress",type:"string",optional:!0},{name:"netmask",type:"string",optional:!0},{name:"gateway",type:"string",optional:!0},{name:"dhcp",type:"boolean",optional:!0},{name:"portalservices",type:"boolean",optional:!0}]),a(function(t){if(!c.wasSuccessful(t))throw new u(c.parseErrors(t).join(", "));return!0})),p.deleteUser=n.compose(o("/api/<username>/config/whitelist/<username2>","DELETE","1.0","Whitelist"),i("Deletes the specified user <username2>, from the whitelist."),a(function(t){if(!c.wasSuccessful(t))throw new u(c.parseErrors(t).join(", "));return!0})),p.getFullState=n.compose(o("/api/<username>","GET","1.0","Whitelist"),i("This command is used to fetch the entire datastore from the device, including settings and state information for lights, groups, schedules and configuration. It should only be used sparingly as it is resource intensive for the bridge, but is supplied e.g. for synchronization purposes.")),t.exports={createUser:n.create(Object.prototype,p.createUser),getConfiguration:n.create(Object.prototype,p.getConfiguration),getFullState:n.create(Object.prototype,p.getFullState),modifyConfiguration:n.create(Object.prototype,p.modifyConfiguration),deleteUser:n.create(Object.prototype,p.deleteUser)}},function(t,e,r){"use strict";var n=r(2).Trait,o=r(10),i=r(11),s={};s.getAllTimezones=n.compose(o("/api/<username>/info/timezones","GET","1.2.1","Whitelist"),i("Allows the user to list all supported bridge timezones.")),t.exports={getAllTimezones:n.create(Object.prototype,s.getAllTimezones)}},function(t,e,r){"use strict";var n=r(5),o=function(){};t.exports.create=function(){var t,e;return 0==arguments.length?t=new o:(e=arguments[0])instanceof o?t=e:(t=new o,e.name&&t.withName(e.name),e.lights&&t.withLights(e.lights),e.transitionTime&&t.withTransitionTime(e.transitionTime),(e.data||e.appData)&&t.withAppData(e.data||e.appData),e.picture&&t.withPicture(e.picture)),t},o.prototype.withName=function(t){return n.combine(this,{name:n.getStringValue(t,32)}),this},o.prototype.withLights=function(t){var e;return e=Array.isArray(t)?t:Array.prototype.slice.call(arguments),n.combine(this,{lights:n.createStringValueArray(e)}),this},o.prototype.withTransitionTime=function(t){return n.combine(this,{transitiontime:t}),this},o.prototype.withAppData=function(t){return n.combine(this,{appdata:{data:t,version:1}}),this},o.prototype.withPicture=function(t){return n.combine(this,{picture:t}),this},o.prototype.withRecycle=function(t){return n.combine(this,{recycle:t}),this}},function(t,e,r){"use strict";var n=r(19),o=c(0,59),i=c(0,23),s=c(0,59),a=c(0,99),u=function(){};function c(t,e){return function(r){return r<t?t:r>e?e:r}}t.exports.create=function(){return new u},u.prototype.time=function(t,e,r){return this.hour(t).minute(e).second(r)},u.prototype.hour=function(t){return t>=24&&(t=0),n(this,{hh:i(t)}),this},u.prototype.minute=function(t){return n(this,{mm:o(t)}),this},u.prototype.second=function(t){return n(this,{ss:s(t)}),this},u.prototype.randomize=function(t,e,r){return this.randomizeHour(t).randomizeMinute(e).randomizeSecond(r)},u.prototype.randomizeHour=function(t){return n(this,{random:{hh:i(t)}}),this},u.prototype.randomizeMinute=function(t){return n(this,{random:{mm:o(t)}}),this},u.prototype.randomizeSecond=function(t){return n(this,{random:{ss:s(t)}}),this},u.prototype.recurring=function(t){return n(this,null==t?{recurring:"forever"}:{recurring:a(t)}),this}}]));
//# sourceMappingURL=main.js.map